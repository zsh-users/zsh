1999-08-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: 3.1.6-pws-1 made available.

	* Sven: 7386: Src/subst.c: Order of q and Q parameter flags matters.

1999-08-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7380: Src/hist.c, Src/subst.c, Doc/Zsh/expn.yo: flag X for
	  reporting errors de-quoting.

	* Sven: 7374: Src/subst.c, Doc/Zsh/expn.yo: modifier to remove one
	  level of quotation, corresponding flags.

	* Sven: 7373: Src/Zle/comp.h, Src/Zle/zle_tricky.c,
	  Completion/Base/_brace_parameter:  support nested parameter
	  expansion type of deal.

1999-08-04  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7355: Src/Zle/compctl.c, Src/Zle/zle_tricky.c: make
	  compadd quoting consistent with compgen.	

1999-08-02  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7349: Src/loop.c, Src/signals.c:  restore errflags in
	  select after a zleread; fix problem restoring function-style trap
	  after a function set it to something else.

	* Sven: 7348: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	  remove path_keepdir configuration key but don't do keepdir
	  trick unless _files had no type arguments.

	* Sven: 7345, 7346, 7347: Src/Zle/zle_tricky.c: match control
	  problems.

	* Sven: 7344, 7353: Src/cond.c, Src/Modules/example.c,
	  Src/Zle/compctl.c, Util/zsh-development-guide:  conditions can
	  get the tokenized string; better quoting behaviour in
	  IPREFIX/ISUFFIX.

	* Sven: 7343: Src/Zle/zle_tricky.c: quote path prefix and suffix
	  earlier.

	* pws: 7342: Doc/Makfile.in: use makeinfo ... || exit 0 to
	  ignore result of makeinfo.

	* Irving Wolfe: 7336: utils.c: same fcntl() change.

	* Geoff: 7335: init.c: third argument for fcntl().

1999-08-01  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: zsh 3.1.6 released.

1999-07-30  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws, Bart: 7321, 7325: Src/hist.c: NO_BANG_HIST wasn't working
	  at all, but be careful not to disable too much when it's
	  in effect.

	* Tanaka Akira: 7318: Completion/User/_cvs: more improvements

1999-07-29  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7316: Doc/Zsh/compsys.yo: mention that compctl -M control
	  is available and fix some typos.

	* pws: unposted: Doc/Zsh/metafaq.yo: sites in Italy and Poland
	  (the one in Italy is not `official', but is actively mirroring
	  ftp.zsh.org anyway).

	* Felix Rosencrantz: 7311: Src/Zle/zle_tricky.c: matching control
	  left dangling pointers.

	* Tanaka Akira: 7312: Completion/User/_cvs: don't quote ignore
	  patterns.

1999-07-28  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7308, 7309: Src/Zle/zle_tricky.c: glob patterns were
	  limited to PATH_MAX and length wasn't tested.

	* Tanaka Akira: 7307: Completion/User/_cvs: remove parentheses,
	  complete argument options.

	* pws: 7305: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfanon,
	  Functions/Zftp/zfget, Functions/Zftp/zfopen,
	  Functions/Zftp/zftp_chpwd: use URL-style paths in opening;
	  zfget -c sends output to stdout; don't delete current directory
	  information if we haven't really changed directory.

	* Bart: 7301: Completion/User/_cvs: restored .file completion

1999-07-27  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7300: Completion/Core/compdump: wasn't ignoring . in fpath,
	  although compinit was.

	* pws: 7299: configure.in: don't use gcc -pedantic any more, since
	  there are too many messages about `long long' and variable-sized
	  arrays not being available in ISO C.

	* pws: 7298: Src/Zle/zle_tricky.c: missing dupstring() in
	  comp_match.

	* pws: 7297: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	  path_keepdir config key required for 7141 to come into effect
	  due to significant side effects.

	* Tanaka Akira: 7290, 7292: Completion/User/_cvs: condensed
	  version of all _cvs completion stuff; completes files if not
	  under CVS control; use compgen -p to work around problem with
	  quoted characters.

	* Andrej: 7827: Etc/Machines: Siemens info
	  
	* Bart: 7285, applied by hand: Completion/User/_cvs: parameter
	  fixes, commit bug.

	* Tanaka Akira: 7284: Completion/Core/compdump: careful when
	  two shells start at once.

	* Tanaka Akira: 7282: Completion/User/_cvs,
	  Completion/User/_cvsaddp, Completion/User/_cvsentries_modified,
	  Completion/User/_cvsprefix, Completion/User/_cvsremovep,
	  Completion/User/_cvstargets, Completion/User/_cvstargets_modified:
	  handle modified files using stat module.

1999-07-26  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7278: Completion/Base/_complete_opts:
	  less verbosity

1999-07-25  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7276, 7277, 7279: Completion/User/{_cvs, _cvsaddp,
	  _cvsentries, _cvsprefix, _cvsremovep, _cvsrepositories,
	  _cvsrevisions, _cvstargets, _cvstest}, Misc/compctl-examples:
	  more modular cvs new completion support including CVS/Entries;
	  bug fix for old CVS completion.

	* Bart: 7275: Doc/intro.ms: now works with groff.

	* Bart: 7274: Src/Zle/zle_tricky.c: don't go beyond end of line

	* pws: from Bart: Etc/CONTRIBUTORS, Etc/NEWS:  updates for 3.0.6

1999-07-24  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: version 3.1.6-test-3

	* pws: lastest FAQ.yo, FAQ

1999-07-23  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7264: Completion/Commands/_correct_filename,
	  Completion/Commands/_correct_word,
	  Completion/Commands/_expand_word,
	  Completion/Commands/_history_complete_word,
	  Completion/Commands/_most_recent_file,
	  Completion/Commands/_read_comp, Completion/Core/compinit,
	  Doc/Zsh/compsys.yo: compdef -k takes -n option not to override
	  existing keybinding; used in completion command widgets to
	  keep user bindings during compinit.

	* Sven: 7260: Completion/Core/_main_complete: commented-out
	  option saving bit can uses parameter module

	* Sven: 7259, 7261: Src/subst.c, Src/Modules/parameter.c,
	  Doc/Zsh/expn.yo, Completion/Core/_normal,
	  Completion/Core/_parameters: parameter module provides
	  local information; used in _parameters; _normal uses
	  $commands when available.

	* pws: 7257: Completion/Core/_parameters: simplify.

	* Tanak Akira: 7256: Completion/User/_bzip2,
	  Completion/User/_bunzip2: new.

	* Tanaka Akira: 7255: Completion/User/_make: complete after =.

	* Oliver: 7254: Completion/Builtins/_aliases: do unalias.

1999-07-22  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7253: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	  Doc/Zsh/cond.yo, Doc/Zsh/expn.yo, Doc/Zsh/files.yo,
	  Doc/Zsh/func.yo, Doc/Zsh/grammar.yo, Doc/Zsh/invoke.yo,
	  Doc/Zsh/jobs.yo, Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zle.yo,
	  Doc/Zsh/options.yo, Doc/Zsh/params.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/zle.yo, Doc/ztexi.yo, Util/zsh-development-guide:
	  General documentation fixes and enhancements.

	* Sven: 7251: Src/Zle/zle_tricky.c: completion words wrapper
	  tweak thing.

1999-07-21  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Bart: 7246: Completion/Builtin/_functions: complete for
	  _functions.

	* Tanaka Akira, Sven: 7243, 7250: Completion/Base/_complete_opts,
	  Completion/User_cvs: enhancements for cvs completion.

	* Sven: 7241: Completion/Base/_first: typos

	* pws: 7231: README, Etc/CONTRIBUTORS: notes for latest release
	  including possible incompatibilities.

	* Bart: 7230: Src/exec.c: cancd2 didn't free string properly
	  (or at all, in fact).

	* Tanaka Akira, Bart: 7228: Completion/User/_cvs,
	  Completion/User/_complete_opts:  completion for cvs.
	
1999-07-20  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7226: INSTALL: mention that dependent libraries of zle
	  can't be used if zle is dynamically loaded on systems without
	  working RTLD_GLOBAL.

	* pws: 7223: Doc/Makefile.in, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Doc/Zsh/mod_complist.yo,
	  Doc/Zsh/mod_zftp.yo, Doc/Zsh/mod_zle.yo, Doc/Zsh/zftpsys.yo:
	  dependences for texinfo manual; extra index entries.

	* Sven: 7220: Src/Zle/complist.c: `*=' works and the last
	  column is set.

	* Sven: 7219: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[force_list] now works as documented.

	* Sven: 2456: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo: 
	  clear explanation string; document compstate[insert]=''
	  is same as unsetting.

	* pws: 7218: Doc/Makefile.in, Doc/zman.yo: delete all manual
	  page lines beginning .'; work around yodl .SH ""NAME problem.

	* Sven: 7217: Src/exec.c: duplicate function name for scriptname.

	* Sven: 7216: Src/Zle/zle_tricky.c: insertion with old and
	  new completion.

	* Tanaka Akira: 7213: Doc/Makefile.in: postprocess manual pages
	  to remove yodl cruft.

	* Ollivier: 7209, 7210: configure.in, Etc/MACHINES: Elf and a.out
	  dynamic loading on FreeBSD (MACHINES entry adapted).

1999-07-19  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7205: Src/Modules/mapfile.c: MS_SYNC was not
          defined on SunOS 4.

	* pws: 7202: Src/Modules/clone.c: add an extra zero argument
	  to ioctl() to make three.

	* pws: from Ollivier Robert: Etc/MACHINES: FreeBSD 4.0 builds OK.

	* pws: 7196: Src/Zle/zle_tricky.c: try to handle multiple supplied
	  (-P) prefixes better.

	* pws: 2446: Completion/User/_rlogin: handle user@host better.

	* pws: version 3.1.6-test-2

	* pws: 7192: Src/glob.c: bug with null in pattern if at end of
	  test string (matched as if a real character).

1999-07-18  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7185: Src/glob.c: don't use strcoll() for character
	  ranges [...] because it can have side effects.

	* pws: 7184: Src/lex.c: histactive didn't get get zeroed before
	  non-interactive history use, hence interactive lines with
	  remhist() were junked more than once.

	* Wayne: 7181: Doc/Zsh/options.y, Doc/Zsh/params.yo: history docs.

	* Wayne: 7180: Src/Zle/complist.c, Src/utils.c: warnings.

1999-07-16  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7172: Doc/Zsh/options.yo, Src/builtin.c, Src/exec.c,
	  Src/options.c, Src/utils.c, Src/zsh.h: minor bugs with
	  7164 fixed; CHASE_DOTS resolves ..'s to physical path;
	  CHASE_LINKS doesn't do logical path rationalization;
	  xsymlink() and xsymlinks() simplified and option-dependence
	  removed.

	* Sven: 7171: Src/builtin.c: alternate form of Digital/gcc
	  bug workaround.

1999-07-15  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7164: Src/builtin.c, Src/exec.c: AUTOCD now allows
	  paths with symlinks (as real cd always did); simplify code
	  for testing for existing directory on foo/.. before removing
	  foo/..; as a side effect, relative cd's from directory which
	  has been deleted don't work.

	* Sven: 7161: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c, Completion/Base/_brace_parameter:
	  be more careful with quote-prefix/suffix and path-prefix/suffix
	  especially with accept-and-menu-complete.

	* pws: 7155: Functions/Zftp/zfgoto, Functions/Zftp/zfinit:
	  zfgoto can cd without needing to re-login; zfinit uses
	  zmodload -e to check for zftp.

	* Sven: 7154: Src/Zle/complist.c, Src/Zle/zle_refresh.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/mod_complist.yo: don't
	  list too many times on ambiguous completion; don't do
	  menu-selection if no alwayslastprompt behaviour.

1999-07-14  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7148: INSTALL: User subdirectory

	* Thomas Köhler: 7146: Completion/User/_make: didn't work.

	* pws: 7145: Completion/User/_sh: use compset -q for completing
	  after -c option	  

	* Sven: 7143: Src/Zle/complist.c, Src/Zle/zle_tricky.c:
	  listing got confused with only hidden matches.

	* Sven: 7141: Completion/Core/_path_files: if there are
	  no completions in a valid directory when we have a path ending
	  in /, use the directory as a completion, to avoid
	  correction/approximation of the existing directory.

	* pws: 7139: Src/builtin.c: not particularly pleasant fix
	  to problem that `cd nonexistent/..' silently did nothing, while
	  making `cd ..' work even if current directory has gone.

	* Sven: 7138: Completion/User/_hosts, Completion/User/_x_options:
	  _hosts passes arguments as options to compadd.

	* Oliver: 7136: Completion/User/_rlogin,
	  Completion/User/_x_options: use _hosts.

	* Sven: 7135: Src/Zle/zle_tricky.c, Completion/Core/_path_files:
	  change quoting of files again.

	* Sven: 7133: Doc/Zsh/expn.yo, Doc/Zsh/mod_complist.yo:
	  ZLS_COLOURS not required for complist to work.

	* pws: 7127: configure.in: help now shows --disable-dynamic
	  and --disable-lfs.

	* Sven: 7126: Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo,
	  Functions/Zle/incremental-complete-word:  compstate key
	  normal_nmatches; more i-c-w prompt escapes

	* Sven: 7123: Src/Zle/zle_tricky.c: clear list on expansion
	  failure.

1999-07-13  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7119: Src/Zle/zle_tricky.c: status from expansion
	  functions.

	* Sven: 7116: Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo: minor
	  changes.

	* pws: 7114: Src/parse.c, Src/utils.c: line numbers again:
	  flushing line in a script made lineno appear one too large;
	  introduce zwarn() function.

	* Sven/pws: 7112: Src/Zle/zle_params.c, Doc/Zsh/zle.yo: change
	  array keys to scalar KEYS, works more like read -k;
	  documentation.

	* Sven: 7110: Src/Modules/zftp.c, Doc/Zsh/compsys.yo,
	  Etc/MACHINES: signed char warnings in zftp; document
	  _long_options options; Digital UNIX problem.

	* Sven: 2432: Src/builtin.c: workaround Digital UNIX 4.0 +
	  gcc 2.8.1 bug.
	
	* Sven: zsh-users/2430: Etc/NEWS: mention chmod-like mode glob
	  qualifier.

	* Sven: 7108: Misc/job-control-tests: more tests

	* Bart: 7107: configure.in: too many x's in lfs handling.

	* Sven: 7106: Functions/Zle/incremental-complete-word: prompting
	  changes.

	* pws: unposted: update .distfiles and .cvsignore:  _sh, _su
	  zshcompsys.yo, zshcompwid.yo, zshzftp.yo, zshcompsys.1,
	  zshcompwid.1, zshzftp.1 were missing from the distribution.

	* Sven: 7105: Src/Zle/Zle_tricky.c: restore the command line
	  in more places.

1999-07-12  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7103: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo: update
	  CURRENT with compset -q; modify test for quoted delimiters.

	* pws: version 3.1.6-test-1

	* Sven: 7099: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
	  config key last_prompt means don't turn off alwayslastprompt on
	  prefix.

	* Sven: 7097: Completion/Core/_oldlist: keeps old command line.

1999-07-09  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7091: configure.in, INSTALL: change defaults for
	  dynamic and large file support to be enabled.

	* Sven: 7083: Src/Zle/compctl.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compwid.yo: compset -q unconditionally splits
	  the current word.

	* Sven: 7082: Completion/Base/_parameter: use _parameters

	* pws: 7076: Completion/Base/_command_names,
	  Completion/Base/_first, Completion/User/_su: %resume should be
	  in _command_names; _su should check $SHELL.

	* pws: 7075, 7080, 7092: Completion/Core/compinit,
	  Config/funcinst.mk, Config/installfns.sh,
	  Config/uninstallfns.sh, INSTALL: Yet another attempt to install
	  shell functions in a sensible way; compinit adds to the end of
	  $fpath; fixed typo that it didn't check existing fpath properly.

	* Oliver: 7067: Completion/Base/_first, Completion/User/_su,
	  Completion/User/_sh: check for %resume on command line;
	  new completions for _su and _sh.

	* pws: 7066: configure.in: function install makefile in
	  source, not build, hierarchy.

	* Sven: 7062: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compsys.yo, Doc/Zsh/mod_complist.yo: undo works
	  inside menu-selection for items completed by
	  accept-and-infer-next-history; display is more reliable.

	* Sven: 7058: Src/Zle/zle_params.c: turn off menu completion
	  if the command line gets altered by a zle function.

1999-07-08  Peter Stephenson  <pws@ibmth.df.unipi.it>
	  
	* pws: 7049: Src/builtin.c: eval didn't save/restore lexical
	  state.
	
	* pws: 7046: Src/loop.c: xtrace for case and for statements.
	
	* Sven: 7043: Completion/Core/_oldlist:  Extra sophistication
	  when using _oldlist with a particular completer.
	
	* pws: 7042: Etc/BUGS, Etc/CONTRIBUTORS, Etc/NEWS,
	  Doc/Zsh/builtins.yo, Doc/Zsh/expn.yo, Doc/Zsh/mod_complist.yo,
	  Doc/Zsh/params.yo:  Changes to admin files for 3.1.6; some minor
	  documentation changes.
	
	* Sven: 7039: Completion/Commands/_read_comp: trapping SIGINT
	  no longer necessary after 7038.
	
	* pws: 7038: Src/Zle/zle_main.c: restore breaks whenever errflag
	  is restored as SIGINT handler sets both.
	  
	* Sven: 7036: Src/Zle/complist.c: make sure old list is thrown
	  away when doing accept-and-infer-next-history in menu-completion.
	
	* Sven: 7028: Src/Zle/zle_tricky.c,
	  Functions/Zle/incremental-complete-word: problems when BUFFER
	  changes, %u in i-c-w prompt, config key for showing list.

	* Sven: 7026: Completion/Core/_main_complete,
	  Completion/Core/_match, Completion/Core/_oldlist,
	  Completion/Core/compinit: More information stored in assoc array
	  _lastcomp about the previous completion.

	* Sven: 7025: Src/Zle/complist.c: remove list when accepting
	  and retrying completion when unambiguous.

1999-07-07  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7021: Src/utils.c: error message in findsep() was
	  erroneous.

	* pws: 7020: Src/params.c: error message for whole assoc array
	  assignment.

	* Oliver: 7005: Src/builtin.c, Doc/Zsh/builtins.yo: alias
	  takes +g and + flags.

	* Sven: 7004: Src/Zle/zle_refresh.c: reset showinglist on
	  clearlist.

	* pws: 7002: Completion/Commands/_read_comp: does completion
	  lists; handle errors better.

	* pws: 7001: Src/hist.c: line numbers were wrong in some error
	  messages (e.g. conditions) when reading from a string
	  (e.g. autoloaded functions).

	* pws: 6998: Src/Zle/zle_bindings.c: restore history-search
	  bindings \M-n, \M-p.

	* Sven: 6996: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/mod_complist.yo: accept-and-infer-next-history
	  in menu-select accepts a match, then restarts menu selection.

	* Sven: 6995, 7000: Src/math.c, Src/utils.c, Doc/Zsh/arith.yo:
	  allow bindkey strings in after #\ in math mode.  Also
	  incremental-complete-word and insert-files, added by hand
	  to directory Functions/Zle, with appropriate changes to
	  configure.in and INSTALL.

	* Sven: 6992: Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Doc/Zsh/mod_zle.yo:
	  zle -R can take list arguments; zle -cR clears the list;
	  zle -U puts keys in the unget queue.

	* Geoff: 6991: configure.in: NetBSD can use both ELF and a.out.

1999-07-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6990: Completion/Builtins/_cd,
	  Completion/Core/_path_files: some local variable fixes.

	* pws: 6987: Src/builtin.c: `typeset +f' and `functions +'
	  should just print the function name.

	* pws: 6986: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo,
	  Src/builtin.c, Src/params.c, Src/zsh.h: special parameters
	  can become local, remaining special; be more careful that
	  only the most global parameter can appear in the environment.

	* pws: 6984: Doc/Zsh/compsys.yo: typo in 6973 docs

1999-07-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6982: Src/exec.c: variable assignment with redirection is
	  interpreted as variable assignment with redirection, not
	  nullcmd.

	* pws: 6981: Completion/Commands/_read_comp: -n should be -z.

	* Sven: 6979: Completion/Core/_path_files: compconfig[path_expand]
	  fix.

	* Sven: 6977: Completion/Core/_match: cosmetic `if' change.

	* Sven: 6975: Src/Zle/zle_tricky.c: fix quoting of tildes at
	  the start of file names.

	* Sven: 6974: Src/exec.c: mark superjob as locked as soon
	  as started.

	* pws: 6973: Completion/Commands/_read_comp, Doc/Zsh/compsys.yo:
	  _read_comp allows function arguments and ^U but won't add
	  non-printables; document Completion/Commands widgets.

	* Sven: 6971: Src/exec.c, Src/jobs.c: backgrounding jobs forked
	  from current shell works again; job table not filled up by
	  current shell subjobs; current/previous job not lost.

1999-07-04  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6970: Completion/Base/_default, Completion/Builtins/_cd,
	  Completion/Commands/_read_comp: handle magicequalsubst and
	  cdablevars optios; _read_comp can read and execute a completion
	  function (_*) or compgen argument (-*) on the fly.

	* pws: 6969: Doc/Zsh/builtins.yo, Src/builtin.c: print -b
	  uses full bindkey string possibilities.

	* Tanaka Akira: 6968: Completion/Core/compinit: compinit -D
	  didn't actually work.

	* pws: 6967: Completion/Core/_path_files: final return status
	  inverted.

	* pws: 6966: Completion/Makefile.in, Functions/Makefile.in,
	  Config/funcinst.mk, configure.in, INSTALL:  prevent overwriting
	  of changed shell functions on installation; move function
	  installation code to funcinst.mk; clear up INSTALL a bit.

1999-07-03  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6962: Doc/Zsh/prompt.yo, Src/prompt.c:  %/ and %~ take
	  numbers for trailing path segments like %c and %C, %N can too;
	  function promptpath() to implement this.

	* pws: 6957: 3.1.5-pws-25 made available
	
	* pws: 6955, 6956: Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: better handling
	  of subdirectory structure for completion functions; -d is default
	  for compinit, -D turns it off; documentation updated for installed
	  files; bugfix for compinstall re-using compconf arguments.

1999-07-02  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 6953: Completion/Builtins/_cd: use pushd code for cd

	* Sven: 6945: Completion/Core/_expand: error expanding :]

	* Sven: 6941: Src/exec.c, Src/jobs.c: neater fix for time builtin.

	* Oliver: 6939: Completion/User/_hosts,
	  Completion/Base/_subscript, Misc/compctl-examples: better way of
	  using /etc/hosts; complete POSIX character classes.
	
	* Sven: 6937: Doc/Zsh/mod_complist.yo, Src/Zle/complist.c: use
	  send-break to exit menu selection and return to normal menu
	  completion.

1999-07-01  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6936: Src/jobs.c: time builtin was broken.

	* Sven: 6933: Src/exec.c, Src/jobs.c, Src/Signals.c:  More job
	  control fixes:  running external command after loop in function;
	  function on left hand side of pipeline with loop on right.

1999-06-29  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6908, 6926: Src/exec.c, Src/jobs.c, Src/zsh.h: more job
	  control fixes:  functions with programs that send strange
	  signals to parents should work.

	* Sven: 6904: Src/Makefile.in: bugs with cleaning up modules
	  in Src.

	* Sven: 6903: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[insert] can have a space at the end to force inserting
	  a space after completion.

	* Sven: 6902: Src/Zle/complist.c, Doc/Zsh/mod_complist.yo:
	  menu-select will use %S/%s if ZLS_COLO[U]RS is not defined.

	* Sven: 6901: Src/exec.c, Src/init.c, Src/jobs.c:  back off
	  some (but not all) recent job handling patches to avoid more
	  serious problems with recalcitrant programs.

1999-06-28  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6899: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/init.c:
	  default PS4 is now "+%N:%i> ", except in [k]sh emulation.

	* Andrej: 6893: aczsh.m4: use existing environment value when
	  testing for large file support.

	* pws: 6890: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/prompt.c:
	  %N and %i prompt escapes provide script or function name and
	  line number.

	* Sven: 6887: Src/exec.c, Src/jobs.c: another loop killing problem.

	* Geoff: 6884: Src/Zle/zle_refresh.c: bug when redisplaying line
	  one shorter than terminal width

1999-06-27  Peter Stephenson  <pws@ibmth.df.unipi.it>

        * pws: 6881: Doc/Zsh/mod_zle.yo: explain keymap linking

	* pws: 6879: Src/exec.c: update command hash pointer if builtin
	  is autoloaded after a prefork().

	* Bart: 6873: Src/Zle/zle_tricky.c: magic-space doesn't feep
	  quite so much.

	* Geoff: 6871: Src/Zle/complist.c: optimi[sz]ations for outputing
	  coloured/colorized output.

	* pws: 6866: Src/exec.c, Src/init.c: signed/unsigned character
	  problems; one was causing SunOS 4.1.3_U1 with gcc 2.7.0 to hang.

1999-06-26  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* 3.1.5-pws-24 made available

1999-06-25  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6857: Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: compinit and
	  compinstall are now functions which unfunction and autoload
	  themselves.  _compdir is used by compinstall to record where
	  it found the completion directories.  compinit is now otherwise
	  stuck with fpath.

	* pws: 6851, 6853: typeset -g doesn't locallize parameters; bug
	  that unset parameters were recreated global instead of at
	  some higher local level; handle PM_AUTOLOAD consistent with other
	  flags.

	* Sven: 6850: Src/init.c: always generate a new pgrp for the
	  shell, since the parent (e.g. xterm) may not have done that
	  and zsh now runs programs in its own pgrp.

	* Sven: 6848: Src/exec.c: don't suspend if the shell is the
	  only thing to suspend (or something like that).

	* Sven: 6841: Src/loop.c: %_ in else branches for PS4

1999-06-24  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6834: Src/glob.c, Src/hashtable.c: dyncat() changed always
	  to use heap memory (as it erroneously claimed); hashtable element
	  tablename (used for debugging) freed.

	* Bart: 6830: Src/params.c: don't create the hashtable for an
	  assoc array on assignment unless there is something to put in it.

	* Sven: 6825: Src/Zle_tricky.c: make sure path prefix and suffix
	  are quoted in filename completion; recalculate length of match
	  string.

	* Sven: 6824: Src/exec.c, Src/signals.c: functions got deleted
	  from the process table too early for job control.

	* pws: 6823: Src/exec.c, Src/utils.c:  names and line numbers
	  of functions printed for errors during execution.

	* Sven: 6822: Src/Zle/complist.c, Src/Zle/zle_tricky.c: assorted
	  completion fixes: crash with old completion; too many spaces
	  with menu inserting; too many beeps with LISTBEEP.

	* Sven: 6819: Src/exec.c, Src/jobs.c, Src/signals.c:  Run
	  jobs inside shell constructs in the same process group as the
	  shell itself.

	* Sven: 6817: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c: Change ZLS_SELECT to SELECTMIN;
	  don't automatically switch on select widget until there are
	  $SELECTMIN choices.

1999-06-23  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6816: Doc/Zsh/params.yo, Src/utils.c:  ZBEEP parameter
	  gives string to output instead of beeping.

	* Sven: 6815: Src/Zle/complist.c: switch off menu-select for
	  hidden matches.

	* pws: 6814: Doc/Zsh/mod_zle.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/zle.yo, Src/Zle/deltochar.c, Src/Zle/iwidgets.list,
	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c, Src/Zle/zle_word.c:
	  Zle determines whether to feep by the return status (except
	  for some inner code loops); completion widgets return 1 if
	  something failed in the hierarchy outside the widget function;
	  the -n and -N options work properly.

	* pws: 6812: Src/subst.c: ${(AA)foo=}, or anything that gives
	  a null string after the =, creates an empty assoc array.

	* pws: 6806: Completion/Core/compdump, Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: compdump is now
	  a function which unfunctions itself; default dumpfile location
	  is now ${ZDOTDIR:-$HOME}/.zcompdump

	* Sven: 6807: Src/Zle/complist.c: accept-and-menu-complete
	  advances the menu-select selection too.

	* Sven: 6802: Src/Zle/complist.c: change some default colours

	* pws: 6801: Doc/Zsh/builtins.yo, Src/builtin.c: Make emulate -L
	  turn on LOCAL_TRAPS, too.

	* Sven: 6796: Src/Zle/zle_main.c, Src/Zle/zle_thingy.c,
	  Doc/Zsh/mod_zle.yo, Completion/Core/compinit: zle -la lists
	  all widgets, just the name; zle -la <NAME> tests if <NAME> is
	  defined.

	* Sven: 6793: Src/Zle/complist.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Doc/Zsh/mod_complist.yo: Local keymaps can be
	  defined, currently only used with menu-select.

1999-06-22  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6786: Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo: only use
	  a range when you are after the first pattern in it.

	* Sven: 6780: Src/Zle/complist.c: wasn't showinglist when it
	  thought it was.

	* Sven: 6778: don't delete function from job tables
	  
	 * pws: 6776: Doc/Makefile.in, Doc/Zsh/compsys.yo,
	  Doc/Zsh/mod_complist.yo:  Tweakchen for menu-select patch;
	  also (unposted) changed name collist to complist wherever it
	  occurs.

	* Sven: 6774, 6775: Src/Zle/collist.c, Src/Zle/comp.h,
	  Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compsys.yo, Doc/Zsh/mod_collist.yo,
	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_deltochar.yo,
	  Doc/Zsh/modules.yo, Completion/Core/_path_files:  Improvements
	  for menu-select widget; ZLS_SELECT turns menu-completion
	  into menu-selection; key bindings more natural; highlighting
	  more useful

	* Oliver: 6772: Src/Zle/zle_tricky.c: use the whole
	  command text for job completion.

1999-06-21  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6760: Src/Zle/zle_tricky.c: menucompletion displaying new
	  list of matches sometimes got confused.

	* Sven: 6755: Src/jobs.c: status of restarted job including
	  current shell processes was wrong.

	* Sven: 6753: Src/Zle/collist.c, Src/xmods.conf: 
	  load collist

	* Sven: 6747: Src/Zle/collist.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_tricky.c: menu-select allows you to move
	  cursor to select completions; uses ma list colouring
	  capability.

	* Sven: 6742: Src/Zle/collist.c, Src/Zle/collist.mdd,
	  Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Src/module.c,
	  Src/zsh.h, Doc/Zsh/mod_collist.yo, Doc/Zsh/mod_compctly.yo,
	  Doc/Zsh/mod_deltochar.yo, Doc/Zsh/modules.yo,
	  Util/zsh-development-guide:  collist module: colour completion
	  lists by setting ZLS_COLOURS (or even ZLS_COLORS) variables.

	* pws: 6737: Doc/Zsh/builtins.yo, Doc/Zsh/zle.yo: simplifications
	  suggested by Bart.

	* Bart: 6732: Doc/Zsh/compsys.yo: restore missing bits of Sven's
	  patches (not the zle_tricky.c hunk).

	* Bart: 6731: Doc/Zsh/compctl.yo: spelling correction

1999-06-20  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* zsh-3.1.5-pws-23 made available
	
	* Sven/pws: 6616, 6609, 6726 (merged): `zle [ -N ] [ -n num ]
	  widget args'; internal widgets handle arguments and return
	  values; search commands use arguments; read -[kq] can use
	  zle's key mechanism; zle -R [msg] redisplays line editor;
	  digit-argument feeps if the keypress wasn't a digit;
	  universal-argument handles argument as numeric.

	* pws: 6725: Src/signals.c: more local traps:  now don't add trap
	  to list to restore when outside a function, but do if the function
	  simply unsets a trap which was set outside.

1999-06-18  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6718: Completion/Core/compinit, Completion/Core/compdump,
	  Doc/Zsh/compsys.yo: rebind existing completion widgets for new
	  completion instead of defining new ones.

	* pws: 6717: Doc/Zsh/options.yo, Src/exec.c, Src/options.c,
	  Src/signals.c, Src/zsh.h: Option LOCAL_TRAPS saves and restores
	  traps on exit from functions; set for ksh emulation.

	* Tanaka Akira: 6716: Completion/User/_chown: some systems use `:'
	  as separator in chown.

	* Oliver/Sven: 6709, 6710: Completion files Base/_subscript,
	  User/_chown, User/_groups, User/_x_options: _subscript shows
	  listing for ordinary arrays; new chown and chgrp completions;
	  example _x_options can complete displays.

	* Sven: 6707: Src/exec.c: Shell structures not at the end
	  of a pipeline are suspendable.  This is the only way
	  of stopping a command in such a structure where the command
	  handles interruptions in such a way that zsh doesn't see them.

1999-06-17  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6705: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	  Src/init.c, Src/input.c, Src/parse.c: some more LINENO
	  subtleties: embedded function definitions have correct line
	  number; all lines, not just ones with new PS1, are counted
	  interactively; traps with trap builtin use line no. of
	  surrounding environment.

	* Sven: 6693: Src/Modules/parameter.c, Src/builtin.c, Src/exec.c,
	  Src/input.c, Src/zsh.h: update LINENO properly when parsing a
	  string.

	* Sven: 6692: Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo,
	  Completion/Builtins/_kill, Completion/Builtins/_wait,
	  Completion/User/_gdb: allow the -y option to compadd for
	  specifying an array to use when listing.

	* Sven: 6689: Src/Zle/zle_tricky.c, Completion/Base/_subscript:
	  test for closing bracket in get_comp_string().

	* Oliver: 6688: Zsh/compsys.yo, Zsh/func.yo, Zsh/mod_zle.yo,
	  Zsh/params.yo, Zsh/zftpsys.yo: spelling changes.

	* Wayne: 6682: Src/hist.c: Uniquified history commands are limited
	  to size $SAVEHIST, so that the last  $((HISTSIZE-SAVEHIST))
	  commands are always available even with HIST_EXPIRE_DUPS_FIRST.

	* Sven: 6686: Completion/Core/_match, Completion/Core/_path_files,
	  Doc/Zsh/compsys.yo: New configuration keys path_cursor,
	  match_insert.

	* Sven: 6685: Src/Zle/compctl.c, Src/Zle/zle_params.c,
	  Doc/Zsh/zle.yo, Completion/Base/_first,
	  Completion/Commands/_correct_filename,
	  Completion/Commands/_most_recent_file,
	  Completion/Core/_approximate, Completion/Core/_expand,
	  Completion/Core/_list: NUMERIC is unset if no prefix was given;
	  it may be unset explicitly, and if set again will be restored in
	  the expected way.

	* Wayne: 6683: Src/exec.c: ambiguous brace

	* Wayne: 6681: Src/builtin.c: start-of-loop check for history -r
	  was wrong.

1999-06-16  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6679: Src/Zle/zle_thingy.c, Doc/Zsh/compwid.yo:  always
	  use .complete-word etc. as widget type in zle -C.

	* pws: 6677: Doc/Zsh/guide.yo: avoid TeX overfull hbox problem.

	* Andrej: 6674: Doc/zsh.yo, Doc/ztexi.yo: change order of initial
	formatting instructions to make interaction with system
	configuration files better.

	* pws: 6660: Doc/Zsh/compctl.yo: pointer to new completion system
	  at top of compctl documentation.

	* pws: 6659: Src/Zle/zle_tricky.c: a couple of NULL's should be 0's

	* pws: 6658: Doc/Zsh/options.yo, Src/init.c:  options strings at
	  shell startup can end with whitespace (for #!), but anything
	  after the whitespace causes an error.

	* Sven: 6657: Completion files Base/_subscript,
	  Builtins/_autoload, Builtins/_bindkey, Builtins/_echotc,
	  Builtins/_kill, Builtins/_limits, Builtins/_wait,
	  Builtins/_zmodload, User/_dd, User/_find, User/_gdb, User/_make,
	  User/_mh, User/_rlogin, User/_x_options: New gdb completion;
	  improved make completion; use compadd in preference to compgen
	  -[sk]; configuration keys ps_args, ps_listsargs.

	* Sven: 6654: Src/Zle/zle_tricky.c: empty display list after -y.

	* Bart: 6652: Src/exec.c: trailing spaces confused #! emulation.

	* Sven: 6649: Src/Zle/zle_tricky.c: behaviour of compctl -l.

	* Bart: 6646: Src/lex.c: extra braces to enhance beauty of code
	  which appeared in 3.0.5.

1999-06-15  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 6642: Completion/Base/_tilde: complete directory
	  stack elements after ~+ or ~-.

	* Tanaka Akira: 6641: Src/subst.c: treat ~-0 like ~0

	* pws: 6639: configure.in: don't try type of $enable_val if empty
	  (needed when off_t/ino_t are 64-bit without explicit enabling).

	* zsh-3.1.5-pws-22 made available

	* Oliver: 6636: Completion/Builtins/_limits: wasn't working

	* Bart: 6617 + minor changes: Src/utils.c: Be more careful keeping
	  $COLUMNS and $LINES correct, particularly if exported.

	* Sven: zsh-users/2388: Src/jobs.c:  while loops etc. in shells
	  running without MONITOR were hard to kill.

	* Bart: 6628: Src/params.c: setting slices of unset array
	  caused a crash.

1999-06-14  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6626: Src/mem.c: in zsh's malloc, try to make sure when
	  sbrk'ing that it's sufficiently well aligned.

	* Oliver: 6624: Completion/Builtins/_kill,
	  Completion/Builtins/_wait: more widely functioning process
	  handling

	* pws: 6623: Completion/Makefile.in, Config/defs.mk.in,
	  Functions/Makefile.in, INSTALL, Src/init.c, Src/zsh.mdd,
	  configure.in: --enable-function-subdirs allows installation
	  into subdirectories of the function directory and sets the
	  initial $fpath appropriately.

	* Oliver: 6620: Completion/Builtins/_jobs: handle disown, too.

	* pws: 6618: Doc/Zsh/func.yo, Doc/Zsh/grammar.yo, Src/lex.c:
	  with SH_GLOB set, function definition parentheses after the
	  first word on the line allow spaces inside.

	* Sven: 6614: Src/Zle/zle_tricky.c, Completion/Brace/_brace_parameter:
	  completion after quotes in parameters

	* pws: 6610: Src/glob.c: globbing flags shouldn't be active
	  without extendedglob.

	* Bart: 6608: Doc/Zsh files compctl.yo, compsys.yo, compwid.yo,
	  expn.yo, files.yo, mod_mapfile.yo, mod_zftp.yo, params.yo,
	  zftpsys.yo, zle.yo: spelling corrections

1999-06-12  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6601: Src/Makefile.in: don't remake Makemod just
	  to clean up files

	* pws: 6600: Doc/Zsh/arith.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	  Doc/Zsh/guide.yo, Doc/Zsh/jobs.yo, Doc/Zsh/metafaq.yo,
	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_zftp.yo, Doc/Zsh/params.yo,
	  Doc/Zsh/redirect.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo,
	  Doc/zman.yo, Doc/ztexi.yo, Util/zsh-development-guide:
	  Formatting of unfilled text now handled by three distinct
	  macros example(), indent(), nofill(); compctl description node
	  is now called `Programmable Completion Using compctl' to
	  distinguish it from widget completion; don't put chapters on
	  separate pages because many are too short.

	* Wayne: 6599: Src/Zle/zle_tricky.c: unitialised variable warnings
	  from gcc

1999-06-11  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6598: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfinit,
	  Functions/Zftp/zfgoto, Functions/Zftp/zfmark,
	  Functions/Zftp/zftp_chpwd, Completion/Builtins/_zftp:
	  add zfmark and zfgoto implementing bookmarks (including use
	  ncftp bookmarks) for zftp function suite; autoload functions
	  from zfinit; patcomps -> _patcomps.

	* pws: 6596: Doc/Zsh/arith.yo: update on size of integers and
	  increase in clarity of presentation

	* Sven: 6589: Completion/Core/_path_files: use :h and :t instead
	  of pattern matching

	* Sven: 6587, 6588: Src/Zle/zle_misc.c, Doc/Zsh/options.yo: < and
	  > shouldn't remove a suffix, but | does

	* Sven: 6586: Src/exec.c, Src/lex.c, Src/loop.c: don't modify
	  struct cmd to insert cmd args and flags, always pass those
	  separately

1999-06-10  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6581: Doc/Makefile: dependencies for manuals

	* Sven: 6579: Src/exec.c: old hack of storing shell function
	  args in struct cmd doesn't work any more

	* Sven: 6577: Src/exec.c, Src/text.c, Src/utils.c: expunge
	  simplifyright(), which appears no longer to have an effect
	
	* pws: 6575: Doc/Zsh/mod_mapfile.yo: avoid mapping long files

	* pws: 6571: Src/Builtins/rlimits.c: use appropriate printf()
	  routine in printulimit() instead of just casting to long

	* pws: 6570: configure.in, INSTALL: some systems have
	  sizeof(off_t) or sizeof(ino_t) == 8 and sizeof(long) == 4 even
	  without explicit enabling, so check and if so use the
	  --enable-lfs code.

	* pws/Sven: 6567, 6568: Completion/Base/_vars: complete assoc
	  array keys

	* pws: 6566: Src/params.c: junk testhash assoc array

	* pws: 6563: sporadic: minor changes affecting casts, sizes
	  of integers, unused variables; add index for subscripts in
	  manual

	* Bart: email: Src/zsh.h: alternative definition for zulong

	* Bart: 6558: Src/builtins.c: printing functions with the
	  UNALIASED flag

	* Sven: 6557: Doc/zsh/compsys.yo: a few typos

1999-06-09  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6556: aczsh.m4: don't disable setting variables
	  for --enable-lfs just because some other variables were set

	* Sven: 6554: Src/Zle/zle_tricky.c: display bugs with compadd -X:
	  newline missing and display unnecessarily altered

	* pws: 6552: configure.in, aczsh.m4, acconfig.h, Src/zsh.h:
	  define separate unsigned 64-bit integer; try __int64_t and
	  __uint64_t.

	* Sven: 6548: Src/Zle/zle_tricky.c: fix `compctl -l'

	* Andrej: 6544: configure displays info on function installation

	* Sven: 6542: Src/builtin.c, Src/exec.c, Src/hist.c, Src/init.c,
	  Src/lex.c: when not using interactive history, don't allocate
	  history at all

	* Andrej: 6541: configure.in: add missing `test'

	* Sven: 6535: Completion/core/_normal: an eval was unnecessary

	* Bart: 6534: Completion/Core/compdump, Completion/Core/compinit,
	  Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c, Src/zsh.h:
	  autoload -U defines functions which don't use expand aliases
	  during loading; used in new completion code to protect
	  functions.

	* Sven: 6527: Src/builtin.c, Src/cond.c, Src/exec.c, Src/glob.c,
	  Src/hashtable.c, Src/init.c, Src/jobs.c, Src/lex.c,
	  Src/linklist.c, Src/loop.c, Src/math.c, Src/mem.c, Src/params.c,
	  Src/parse.c, Src/signals.c, Src/text.c, Src/utils.c, Src/zsh.h:
	  various sets of patches:
	  - make zhalloc() use a pointer to the first free heap
	  - make zsh-mem allocators keep some memory back when freeing
	  - reduce the amount of allocation work done in the exec.c
	    execution hierarchy
	  - don't duplicate execution trees any more than necessary, e.g.
	    execute functions from stored tree
	
	* pws: Etc/MACHINES: Danek Duvall reports --enable-dynamic OK
	  on Solaris 2.7, despite previous reports; Sven says on Digital
	  UNIX 4.0, you need special DLLD and LDFLAGS.

1999-06-08  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6525: Src/lex.c (gettokstr): allow parentheses after
	  first character in command word

	* Tanaka Akira: 6522: configure.in: help string for --enable-fndir
	  had wrong default directory

	* pws: 6520: configure.in: --enable-fndir might be yes,
	  so turn it into ${datadir}/zsh/functions

	* 3.1.5-pws-21 made available

	* Sven: 6515: Src/Zle/zle_tricky.c: fix memory problems with 6492

	* Wayne: 6510: Completion/Core/compinit: another nounset problem

1999-06-07  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: configure.in, Config/defs.mk.in, Functions/Makefile.in,
	  Completion/Makefile.in, rearrangement of Functions
	  subdirectories:  --enable-fndir allows function installation,
	  defaults to ${datadir}/zsh/functions; is compiled into $fpath;
	  FUNCTIONS_INSTALL can specify functions to install e.g.
	  'Core/* Base/* Builtins/* Zftp/*'.

	* pws: 6509: Src/Zle/zle_tricky.c: comp_setunset -> comp_setunsetptr

	* pws: 6506: Completion/Core/compinit, Doc/Zsh/compsys.yo: if
	  completion dumpfile is not writeable, use
	  ${ZDOTDIR:-$HOME}/.zcompdump

	* Sven: 6502: Doc/Zsh/options.yo: document 6496

	* Sven: 6496: Src/Zle/zle_misc.c (makesuffix): more characters
	  that can't be part of a filename

	* Sven: 6493: Completion/Core/_approximate,
	  Completion/Core/_expand: %e wasn't being replaced properly in
	  correction prompts

	* Sven: 6492: Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo,
	  Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	  Completion/Base/_brace_parameter:  Completion inside quotes
	  now acts as if the file name is the entire quoted string;
	  `compctl -h' takes a command line from inside a quoted string;
	  the compctl tests q[s], q[d], q[b] are true if we are in single,
	  double, back quotes; compset -q tests quotes and splits the word,
	  affecting $PREFIX, $SUFFIX and setting $IQPREFIX, $IQSUFFIX for
	  the bits which will now be ignored.

	* pws: 6490: Completion/Core/compinit: nounset workaround

	* Bart: 6485: Src/loop.c: only show one screenful at a time
	  in select, as LINES doc implies it should do

	* Sven: 6484: Src/Zle/zle_main.c, Src/Zle/zle_tricky.c: close
	  fd 0 during zle widgets and completion and redup back afterwards
	  (removed unnecessary zclose()'s)
	
	* Wayne: 6481: Doc/Zsh/builtins.yo, Doc/Zsh/options.yo,
	  Src/hist.c:  improved new history documentation and comments

	* Wayne: 6480: Src/hist.c: Ignore some lines in remhist() to
	  workaround crashes attempting to add already removed lines

	* Tanaka Akira: 6478: Completion/User/_make: complete files
	  as fallback (but use _files instead of compgen -f)

1999-06-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Naoki Wakamatsu <naoki-w@ht-net21.ne.jp>: 6477: configure.in:
	  undefine etcdir, not zshenv

1999-06-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Merge ChangeLog entry from patchlist.txt in 3.1.5-pws-20
	  These are briefer than normal ChangeLog entries, but upgrading
	  all of them is too much work.

	* pws: 6473: Src/Modules/mapfile.c: munmap() after writing file

	* Bart: 6472: doc for 6458

	* pws: 6470: options.yo doc for globalrcs

	* Sven: 6468: -first- context example; allow $compcontext for
	  direct context in _complete; other stuff

	* pws: 6464: fix problem with 6433; disallow nested parameter
	  substitution without braces

	* Sven: 6458: allow seconds in globbing qualifier time comparisons

	* Zefram: off-list: metafaq updates

	* pws: 6437: rearrange quotes in expn.yo, zftpsys.yo, minor
	  corrections

	* pws: 6433: allow quotes around names of parameters in braces

	* pws: 6431: su saga again: new documentation

	* Bart: 4127: su saga: 6299 and 6313 backed off; this alters
	  ZSH_NAME using zgetenv("SHELL").  It can be turned into an
	  --enable if anyone complains.

	* Wayne: 6430: history tweaks: more careful ignoring history with
	  foreign lines, changed name incappendhistory

	* pws: 6424: reduce excess quoting in info files

	* pws: 6421: _mh should use $words instead of $argv

	* pws: 6416: document ${(f)"$(foo)"} change and nesting of quotes
	  in braces

	* Sven: 6414: completing parameters with extra quotes, don't
	  complete local parameters

	* Sven: 6411: fix display bug on terminals which can do
	  TCMULTRIGHT (gap left when clearing list).

	* pws: 6410: RCS option can now take affect at any point during
	  initialisation, new GLOBAL_RCS applies to /etc/z* files.

	* Bart: 6404: singleton arrays treated as scalars locally (as
	  before), but correct array/scalar status is passed to enclosing
	  substitutions.

	* Bart: 6395: uninstall info files over 9, too

	* Sven: 6212 (previously missed): an extra clear list

	* Andrej: 6392: install info files higher than 9

	* 3.1.5-pws-20

	* Sven: 6388: completion in braces removes later arguments

	* Sven: 6374: autoremove behaviour on -r and -R, documentation

	* Bart: 6369: fix use of relative paths in compinstall

	* Bart: 6368: don't use cp -f, use rm -f in configure.in

	* Sven: 6355: ALL_EXPORT crashed the shell if set on command line

	* Sven: 6352, 6354: more quoting in completion

	* pws: 6346: msync() missing from mapfile.c, somehow

	* pws: 6345: Config/defs.mk is now in build tree, not source tree

	* Sven: 6343: test length of anchor in partial word matching

	* pws: 6340: INSTALL didn't work if it was install-sh after 6330

	* pws: 6335: now you can do ${(f)"$(...)"} to get arrays

	* pws: 6332: mapfile module

	* pws: 6331: protect against null hash tables in parameter module

	* pws: 6330: rewrite configuration system to use AC_SUBST_FILE
	  instead of including files by ed trickery (ed is now no longer
	  required).

	* Sven: 6326: compadd -r and -R work on automatically added
	  suffixes, too

	* Sven: 6322: reverse indexing of nested arrays

	* Sven: 6318: memory fixes for parameter module (and compctl).

	* 3.1.5-pws-19 made available

	* pws: unposted: updated some .distfiles

	* pws: 6314: in something like `{ false; } || true', errexit
	  shouldn't be used at all on the left of the ||

	* pws: 6313: fix 6299 to use $SHELL to decide emulation

	* pws: 6307, 6312: wider support for 64-bit integers on 32-bit
	  architectures

	* Tanaka Akira: 6303: _path_files: find files after symbolic link

	* Sven: 6302: more list_pipe intricacies

	* Sven: 6301: expanded ignored prefix ignored for testing

	* pws: 6299: if called as su* or -su*, zsh doesn't do sh emulation

	* Sven: 6298: (mult_isarr) ${*:-word} didn't use the default word

	* pws: 6294: typeset -U MANPATH performs uniqueness test straight
	  away

	* pws: 6291: zftp only checks for system type after login.

	* pws: 6290: parameter module uses global scope, $parameters gets
	  unreadonlied, gcc warning

	* Sven: 6285: tty/job handling when executing some command in
	  current shell code within RHS of pipeline

	* Sven: 6283: compadd -U didn't quote characters properly

	* Sven: 6278: fix ${$(foo)...} to produce an array

	* Tatsuo Furukawa: 6274: updated form of zle_refresh patch

	* Tatsuo Furukawa: 6273: don't need to defined _POSIX* flags
	  specially on HPUX

	* pws: 6272: correct even more mistakes some bozo (guess who) made
	  with rlim_t: put back RLIM_T_IS_UNSIGNED code.

	* pws: 6271: make sure -D_LARGEFILE_SOURCE is defined any time
	  there are other -D's for large file support

	* pws: 6284, should have been in 6269: changes to large file
	  support

	* Sven: 6268: parameter module for access to internal tables

	* pws: 6263: incrementalappendhistory -> incappendhistory

	* 3.1.5-pws-18 made available

	* pws: 6259: second version of compinstall

	* pws: 6258: yet another attempt at the same problem

	* pws: 6257: rewrite 6240 for any old builtin structure after the
	  pipeline

	* Wayne: 6255: more history: zle toggle between local/global
	  history;  `zle widget' can now take a direct numeric argument;
	  small tweaks

	* Sven: 6249: fix for 6046 (problem showed up with $(...))

	* pws: 6246: doc changes for 6046, plus subscripts done properly

	* Sven: 6046: nested parameter expansions can return either arrays
	  or scalars.

	* Wayne: 6241: history editing can use foreign history commands;
	  history appended in hend() instead of hbegin()

	* pws: 6240: a pipeline ending in a builtin didn't attach to the
	  tty pgrp.

	* pws: 6239: need space after incrementalappendhistory for
	  kshoptionprint

	* pws: 6238: Wayne's share_history option set in ksh emulation

	* pws: 6237: window size code upgraded from 3.0.6-pre2, plus
	  Bart's patch 4447.

	* Wayne: 6236: history changes to improve management of duplicate
	  lines, incremental history read/write, and sharing history

	* pws: 6235: unset -m shouldn't restore unset parameters;
	  unsetting a global should remove it from paramtab even inside a
	  function.

	* pws: 6227: configuration for large file support (from bash
	  aclocal.m4).

	* pws: 6224: alter 6205 to read chars only when necessary, but
	  ensure terminal is set appropriately.

	* Wayne: 6220: various compilation warnings

	* Tanaka Akira: 6219: initialize a variable in zle_tricky.c

	* Bart: 6213: race condition in $(...), use waitforpid() instead
	  of unblocking child (which shouldn't happen until later).

	* pws: 6205: use FIONREAD wherever defined, read chars immediately
	  into buffer

	* pws: 6202: trivial _correct_filename change, ^Xc -> ^XC

	* Sven: 6197: off by one error parsing assignment in completion

	* Sven: 6195: _expand_word and _correct_word change.

	* Sven: 6194: complete assoc array arguments by default where
	  necessary

	* pws: 6193: [un]setopt shouldn't complain when setting an
	  unsettable option to the value it already has

	* Bart: 6188: compinit speedup

	* 3.1.5-pws-17 made available

	* pws: 6180: Completion/Core/compinstall

	* Bart: 6171 as rewritten in 6174: old RedHat Linux doesn't have
	  normal definitions for poll.

	* Sven: 6167: show unloaded parameters as undefined

	* pws: 6165: globsubst'd foo='~/bin' depended on extendedglob
	  being set

	* Bart: 6162: autoloadable parameter code links without dynamic
	  loading

	* Sven: 6153: realparamtab to smooth access to autoloaded parameters

	* Sven: 6152: compstate[vared]

	* Sven: 6150: alwayslastprompt sometimes failed in M-x

	* Sven: 6133: autoloaded parameters

	* Sven: 6132: compctl.mdd

	* Ville Herva: 6131, see 6126: reset tv.tv_sec before select for
	  Linux

	* Sven: 6129: comments for struct cadata

	* Sven: 6128: completion after an expansion; list after a
	  non-completion list

	* Sven: 6124: menu completion wasn't consistent between tabs

	* Sven: 6121: try harder with braces after a parameter expansion

	* Sven: 6119: don't insert word separator before ignored suffix

	* pws: 6118: _closequote and _oldlist completers

	* Sven: 6117: position of ignored suffix in inserted match

	* Sven: 6113: compadd -D, nuke element in an array for each failed
	  match

	* Sven: 6109: completion in parameter assignment should set
	  context `value'

	* Bart: 6106: short documentation fixes in expn.yo, options.yo,
	  redirect.yo

	* Sven: 6105: _make patch whitespace

	* Geoff: 6104: multi-line prompt fix (6101 backed off)

	* 3.1.5-pws-16 made available

	* pws: 6101: multi-line prompt ending in '\n' got another newline

	* Tanaka Akira: 6092: _find, bad glob pattern

	* Tanaka Akira: 6085: _make can hang when no [mM]akefile

	* pws: zsh-announce/94: FAQ and FAQ.yo updated

	* Sven: 6079: compwid.yo typo

	* Tanaka Akira: 6078: _find syntax error

	* Sven: 6077: do_single() fix for old completion

	* pws: 6074: zftp function suite moved to Functions/Zftp and
	  provided with documentation.

	* pws: 6070: ~ in character class in parentheses with extendedglob
	  failed

	* Sven: 6066: create list of modules built into the base executable

	* Sven: 6062: test whether using the same widget when doing
	  menucompletion

	* Sven: 6060: don't invalidatelist() in zle_main.c before calling
	  completion functions

	* Sven: 6058: small changes in _path_files, compinit and
	  documentation

	* Sven: 6056: compwid.yo

	* pws: 6053: compwid.yo

	* 3.1.5-pws-15 made available

	* Sven: 6031: defcomp -> compdef

	* pws: 6030: compsys.yo

	* Sven: 6026: _path_files slight rewrite for speed

	* Sven: 6021: _path_files expanding path fix

	* pws: 6018: (#l) and friends with a trailing / on the glob
	  pattern always failed

	* pws: 6016: compinit and _zftp

	* Andrej: 6017 (ex 6014): -i and -s options for _long_options

	* Sven: 6013: pass ignored prefix and suffix in _path_files

	* Sven: 6011: compadd uses first (not last) occurrence of an option

	* Sven: 6010: _match_pattern and _match_test replaced by options
	  to compadd (and deleted from distribution)

	* Sven: extracted from 6009: chunk for getmatcharr()

	* Sven: 6008: %{ works in completion listings

	* Sven: 6005: Misc/compctl-examples altered for latest (more
	  consistent) nested parameter expansion rules

	* Bart: 6002, 6003: in ${foo/#bar/thing}, the `#' can appear from
	  substitution and can be quoted

	* Sven: 5999: ~foo<TAB> completes with /

	* Sven: 5996: compsys.yo, special contexts

	* Sven: 5995: should fix 5969

	* Sven: 5986: compstate[insert]

	* Sven: 5983: documentation for Completion/ system (compsys.1).

	* Sven: 5982: menu behaviour

	* Sven: 5981: bit masks in comp.h

	* Sven: 5972: compconf without arguments lists; _compalso takes
	  extra arguments

	* Sven: 5971: shell code control over re-using existing completion
	  lists

	* Sven: 5970: completion fix compilation; #defcomp is now #compdef

	* Sven: 5969: clear to end of display optimization (may need
	  modifying for some terminals)

	* Sven: 5968: fix brace re-insertion problem in completion

	* pws: 5965: _correct_word

	* Sven: 5960: $PREBUFFER: lines before current $BUFFER

	* Sven: 5959: quoting characters in completion

	* Bruce: 5958: _make

	* Sven: 5955: more compstate choices: list_max, last_prompt, to_end

	* 3.1.5-pws-14 made avaliable

	* pws: unposted: updated .distfiles under Completion

	* Sven: 5947: completion functions fix

	* Sven: 5942: spaces in file names with old completion

	* Sven: 5940: move cursor

	* Sven: 5938, 5937: compset to replace modifying conditions

	* Sven: 5936: replace modifying completion tests with compset

	* pws: 5934: option GLOBAL_RCS_FIRST runs /etc/z* files before
	  user's files.

	* Sven: 5933: don't complete local parameters; _setopt/_unsetopt
	  complete all options (code to use currently unset/set options
	  remains in comments)

	* pws: 5931: more parameter substitution rules

	* Sven: 5928: copy context in zle_tricky

	* Sven: 5926: $HISTNO

	* Sven: 5925: path_expand

	* Sven: 5918: _list completer

	* Sven: 5916: _expand completer

	* pws: 5915: minor type fixes

	* Sven: 5914: _main_complete takes optional completer arguments

	* Sven: 5913: zle -C test

	* Sven: 5912: compiler warnings

	* pws: 5905: _main_complete should at least try to get
	  _unset_options correct.

	* Sven: 5904: print local for parameters

	* Sven: 5895, 5898, 5906: fix completion prefixes

	* Sven: 5890: _match completer

	* Sven: 5879, 5899: completion documentation

	* Sven: 5872, 5881, 5889: corresponding Completion function rewrite

	* Sven: 5871, 5875: big zle_tricky.c cleanup, with compstate
	  changes and IFSUFFIX

	* Bart: 5868: expn.yo fixes

	* 3.1.5-pws-13 made available

	* pws: 5863: substitution rules

	* Sven: 5862: _path_files (turning on menu) and _cd (include . in
	  path)

	* pws: 5854: man page dependencies in Doc/Makefile.in

	* Sven: 5852: warnings about _long_options

	* pws: 5844: don't set errflag if noerrs = 2.

	* Sven: 5831: in subscripts and math environments, the whole
	  string is always passed down to the function handler.

	* Sven: 5830: in ${#:-stuff}, stuff is treated as a single word
	  (unless split for some other reason).

	* Sven: 5829: clear the completion list in more zle functions

	* Sven: 5818: parameter name in subscript which looks math-like;
	  _subscript.

	* Sven: 5811: put back _multi_parts which got left out when it was
	  moved into Core.

	* Sven: 5804: _pdf

	* Sven: 5800: _path_files; path altered when no possible match

	* pws: 5797: set CLOBBERS_TYPEAHEAD for Irix; old config.guess
	  change for Reliant UNIX and Apple Rhapsody re-imported from old
	  config.guess.

	* Sven: 5796: globcomplete shouldn't always turn on menucompletion

	* Sven: 5795: parsing change for assignment and arrays in nested
	  substitution.

	* Sven (reposted by Bart): 5783: zerr() sets errflag even if
	  noerrs is set

	* pws: 5780: Completion/Base/_brace_parameter change

	* 3.1.5-pws-12 made available

	* Geoff: 5779: correct mistakes some bozo (guess who) made testing
	  rlim_t for long long.

	* pws: unposted archive changes: .distfiles in Completion
	  hierarchy, dunno what these do but it looks better; _comp_parts
	  is now _sep_parts; moved _long_options into Base and mentioned
	  it in Completion/README.

	* pws: 5776: untested patch for typeahead problems when reading
	  multiple lines of input

	* Sven: 5775: correcting completion will not ignore everything the
	  user has typed; prefix quote fix

	* Sven: 5770: _path_files again

	* Sven: 5766: _path_files closer to compctl/compgen behaviour

	* Sven: 5761: remove unnecessary compiler warnings in compctl.c

	* Sven: 5759: math environment fixes

	* pws: www archive: updated Etc/FAQ finally, keep forgetting

	* Sven: 5758: _path_files accepts -q, -r and -R options

	* Sven: 5757: compconfig

	* Sven: 5756: compstate[force_list]

	* Lehti Rami: 5754: --disable-restricted-r stops the shell
	  becoming restricted when its name starts with r

	* Sven: zsh-users/2211 (+ p -> s): setopt -m handles underscores
	  and case sensitivity

	* pws: 5737: ${foo#* } is more efficient in ordinary cases

	* Sven: 5736: completion before = in assignment

	* Sven: 5732: _a2ps, _long_options

	* pws: 5729: _bindkey doc

	* Sven: 5726: zle_tricky.c: ctokenize() fix and parameter completion

	* Will Day: 5724 (+postprocessing, 5741): signames2.awk: match
	  extra spaces if produced by CPP.

	* Andrej: 5719: _bindkey can use - as anchor for wildcard matching

	* Sven: 5716: zle.h, zle_misc.c, zle_tricky.c: iremovesuffix() can
	  be told whether to keep a list of matches

	* Sven: 5714: _path_files: failed completions get left alone more
	  often

	* Sven: 5713: zle_tricky.c, interesting code specimen made extinct

	* Sven: 5712: _path_files, noglobcomplete fix

	* Sven: 5710: zle_tricky.c, completion inside words

	* Sven: 5708: completion manual, -M anchors must be matched
	  explicitly

	* Sven: 5707: tokenization changes

	* Sven: 5704: _long_options

	* Sven: 5701: _main_complete, _multi_parts, _path_files, a few
	  cosmetic changes.

	* Sven: 5699: matching prefixes of various sorts

	* Sven: 5698: array indexing in _long_options and _multi_parts

	* Sven: 5696, 5697: "${${path}[1]}" indexes on characters again

	* Sven: 5692: remove compstate[matcher] test from _long_options

	* Sven: 5682: bindkey fix

	* Sven: 5677, 5679: Completion/User/_long_options and consequent
	  upgrades for Completion/User files which use long GNU-style
	  options.

	* Sven: 5676: all Completion example functions return a status

	* pws: from autoconf 2.13: new config.guess, too.

	* Sven: 5675: tidying up for zle_tricky.c

	* Sven: 5671: another small parameter fix for multiple braces

	* Sven: 5670: parameter completion fix

	* 3.1.5-pws-11 made available

	* pws: from autoconf 2.13: new config.sub

	* Sven: 5666: calling inststrlen() with a null string

	* Sven: 5665: return values from completion functions

	* Sven: 5663: compctl -i _completion_function

	* Sven: 5662: / following brace parameter

	* Sven: 5659: globcomplete changes

	* Sven: 5651: widespread completion fixes

	* Andrej: 5650: more tricks with _configure

	* Sven: 5647: _multi_parts doesn't replace so many *'s

	* Sven: 5640: _multi_parts, _path_files, _tar

	* Sven: 5637: mustuseheap check in complistflags

	* Sven: 5634: return values for compgen and compadd

	* Sven: 5631: compilation warnings

	* Sven: 5629: approximate correction patches

	* pws: 5628: _builtin, _cd, _most_recent_file

	* Sven: 5624: CCORIG required to be offered original string when
	  correcting using COMPCORRECT

	* Sven: 5623: -X strings with compadd were mishandled

	* Sven: 5622: zshcompwid manual: clarifications

	* Sven: 5621: manual for nmatches and matcher

	* Sven: 5620: fix for completion inside expansible braces

	* Bart: 5614: Completion/Base/_match_test works out of the box

	* Sven: 5613: copy scalar variable used for compgen -y

	* Sven: 5605: explanation listing fix

	* Sven: 5604: approximate completion.

	* Sven: 5603: compstat[pattern_match]

	* pws: 5602: _tar

	* Sven: 5601: compstate[exact_string] and compstate[total_matchers]

	* Sven: 5599: _comp_parts, _path_files tweaks

	* Sven: 5598: a neater way of handling compadd -p/-P

	* pws; 5597: Use separate file mymods.conf for your own builtin
	  modules rather than the automatically generated modules-bltin.

	* Matt: 5596: Makefile dependencies for module compilation

	* Sven: 5593: _path_files -w

	* Sven: 5590: compadd -p, -s and -P fixes

	* Sven: 5588: fix _most_recent_file idiocy

	* Sven: 5586: addmatch fix (old completion wasn't working)

	* pws: 5583: post-patch restructuring of _mh, _zftp,
	  _most_recent_file.

	* Sven: 5582: _path_files will expand /u/ -> /usr/ even if /u
	  exists if nothing later on would match otherwise (got that?)

	* Sven: 5574, 5578: Completion/README notes

	* Sven: 5571: Functions/Builtins/_cd tests if $cdpath is set

	* Sven: 5566: $foo[(b.<index>.i)<match>] starts searching $foo for
	  for <match> at <index>

	* Sven: 5565, 5576: $NUMERIC gives the numeric argument in a zle
	  widget

	* Sven: 5564, 5577, 5579: massive new completion reworking with
	  $words, $compstate, etc., etc.

	* pws: 5561: attempted (untested) fix for QNX4 compilation;
	  halloc() is now zhalloc().  (By private email from
	  probin@qnx.co.uk, it seems the QNX problems are more
	  considerable with 3.1.5.)

	* Sven: 5560: subscripting fixes in params.c: flags for scalars
	  and converting integer AA element to string

	* pws: 5559: cd /.. doesn't show .. (except if RFS was detected).

	* Larry P. Schrof: 5550: last -> previous in history documentation

	* pws: 5557: configure.in for making sure signals really are
	  defined in the file found.  This was in pws-10, but the patch
	  didn't appear on the list for four days.

	* 3.1.5-pws-10 made available

	* pws: unposted: Functions/Completion moved to Completion;
	  subdirectories Core, Base, Builtins, User, Commands created;
	  Completion/README created.

	* Matt: 5553: under _WIN32, .exe suffix is optional for commands

	* Sven: 5548: _path_files, _comp_parts

	* Sven: 5547: group handling -J/-V in compadd

	* pws: 5545: silly set -x mistake

	* Sven: 5544: another completion cleanup

	* Sven: 5543: compadd -X, zshcompwid manual

	* pws: 5538: approximate pattern matching, (#a1)readme etc.

	* pws: 5531: small init fix

	* Sven: 5529: cleanup for Functions/Completion

	* Sven: 5521: improved option handling for _path_files

	* Sven: 5512, 5525: globcomplete fix for new completion

	* Sven: 5511: make sure compctl is available for new completion

	* pws: 5508: init and dump, globbing and printing.

	* pws: unposted, see 5503: remove dynamic=no from configure.in when
	  underscore is needed.

	* Sven: 5490: unset test for AA elements when substituting

	* Sven: 5489: control for matching in _path_files and _comp_parts

	* Sven: 5483: completeinword fixes

	* Sven: 5476: quoting of tildes in Functions/Completion/_path_files
	  
	* Sven: 5471: range code knows not to handle associative arrays

	* Sven: 5470: new completion conditions didn't handle untokenization
	  consistently.

	* Sven: 5469: init fix and Functions/Completion/_comp_parts

	* Sven: 5467: expn manual typo

	* Sven: 5466: compwid manual for -after and -between

	* Sven: 5455: keep track of which matcher specification to use

	* Matt: 5330: I've put this back the way it original was.  I hate
	  sed almost as much as awk.

	* Martin Buchholz: 5448: libc.h can't be included on Debian Linux,
	  so only include it on NeXT where it's necessary.

	* 3.1.5-pws-9 made available

	* pws: unposted (but see 5440): zftp changes: more return 6's,
	  functions now do auto-open and avoid subshells.

	* pws: 5436: set -x for function calls and ((...)).

	* Sven: 5430: rewrite Functions/Completions with simplified syntax
	  (no #array type completions).

	* Sven: 5429: $CONTEXT strings

	* pws: 5425: fix pattern matching for new completion

	* Sven: 5424: addmatches fix when not doing matching

	* Sven: 5423: compadd accepts either - or -- to end options

	* Sven: 5422: braces in completions were not tokenized; array
	  parameters wereused uncopied

	* pws: 5421: setting same element of assoc array in full array
	  assignment crashed

	* Sven: 5418: small addmatches fixes

	* Sven: 5417: multiple subscripts with undefined array

	* Sven: 5415: anchors in matchers shouldn't match variable part of
	  completion

	* Sven: 5412: better matcher control

	* Helmut Jarausch/pws: 5410: IRIX 6.5 problems in Etc/MACHINES

	* pws: 5408: set -x output for [[ ... ]]

	* pws: 5403: magicequalsubst now affects all ...=~...:~

	* Sven: 5401: files -> __files

	* Sven: 5400, 5402: print needs - in dump; auto-dump and use
	  $COMPDUMP file

	* Sven: 5399, 5407: do_ambiguous overhaul

	* pws: 5398: fixlet for __path_files

	* pws: 5393: dump new completion status for faster init

	* Sven: 5384, 5397: manual for new completion so far

	* Andrej: 5377: Reliant UNIX configuration

	* Oliver: 5374: compctl -T doc for ~dirs

	* Oliver: 5372: change of mailing list host

	* Bart: 5367: CVS ignores version.h

	* 3.1.5-pws-8 made available

	* pws: 5365: make dependencies for main.o, Makemod, zshpaths.h

	* pws: 5364: 5281 now works

	* pws: Misc/Completion now Functions/Completion, some new
	  new-style completions

	* pws: 5362: #key-* completions allow >= 0 key bindings

	* Sven: 5355: compadd -R function for suffix removal

	* Sven: 5354: redisplaying completion lists, don't show if
	  completion failed

	* Sven: 5352: new fignore handling

	* pws/Bart: 5349, 5361: "$foo[@]" didn't get removed if $foo
	  wasn't set

	* pws/Sven: 5341, 5351: completion init and __normal

	* Sven: 5342, 5343: ignoring ignored prefix in new conditions

	* Sven: 5341: modularise new completion shell code

	* Sven: 5335: printing zle condition codes

	* pws: 5332: emulate -L

	* Sweth/Bart/pws: zsh-users/2121: Functions/allopt with the odd
	  emulate and local added

	* pws/Matt: 5326, 5329, 5330: signames.c generation

	* pws: 5321: compctl -LM

	* Sven: 5320: keys available in zle widgets

	* Sven: 5316: compctl matcher users reference counts

	* Matt: 5311: CHAR(+) -> CHAR(43) in zmacros

	* Bart: 5305: trashzle() crashed shell with loading dynamic but
	  zle builtin

	* Bart: 5299: PWD, OLDPWD export confusion

	* Bart: 5297: local variables and $argv doc

	* Geoff: 5295: no ld -g on NetBSD

	* 3.1.5-pws-7 made available

	* pws; 5281: interrupts in getquery() weren't handled gracefully

	* Sven: 5266: get matcher number in new completion functions

	* Sven: 5265, 5284: rewrite of $foo:q and doc

	* Sven: 5262: compctl -M, REC_EXACT fixes

	* Sven: 5261, 5268: GLOB_COMPLETE docs

	* Bart: 5260: new mailing lists in Meta-FAQ

	* Bart: 5258: parameter scoping docs

	* pws: 5247: typeset -T fix

	* pws: Etc/MACHINES: Linux Alpha with egcs

	* pws: 5233: .zlogout doc

	* pws/Sven: 5229, 5234, 5235, 5269: bashautolist option

	* Sven: 5120: use ${foo:q} for quoting completion prefix/suffix

	* Sven: 5208: preliminary version of ${foo:q}

	* Sven: 5207: completion in conditions

	* Sven: 5206: completion in arrays

	* Sven: 5203: o -> f, O -> o, O = ^o

	* Sven: 5201: zle commands erase listing when minibuffer used

	* pws: 5185, 5198: compctl documentation tidy-up

	* Sven: 5183, 5199, 5200: ${(P)...} flag

	* Sven: 5178: fix for command completion and pattern completions

	* Bart: 5174: unset assoc array elements

	* Sven: 5145, 5204: compadd -m, -F, -r

	* Sven: 5144: partial word completion fix

	* Matt: 5133: cygwin needs native getcwd()

	* Matt Armstrong: 5132, 5151: makepro.awk can spit out
	  preprocessor lines, move init.pro inclusion

	* Bart: 5129: vared assoc array and elements thereof

	* Bart: 4965, missing hunk: unset assoc array when assigned as
	  scalar

	* pws: 5054: zls

	* 3.1.5-pws-6 made available

	* Drazen Kacar/pws: 5118: unlock terminal device on Solaris

	* pws: 5111: unsetting special zle variables

	* Sven: 5107: glob qualifier o for modes

	* pws: 5105: remove old zle -C, zle -C does new completion
	
	* Sven: 5104: zle and widget information via variables

	* Drazen Kacar/pws/Bart: 5103, 5113: terminal bug on Solaris with
	  Openwindows

	* Sven: 5102: glob qualifiers doc

	* pws: 5094, 5120: typeset -T MYPATH mypath; MYPATH=(foo),
	  mypath=foo fix; PATH=(foo) bug

	* Sven: 5092: extra completion context

	* Sven: 5060: completion in brace expansion

	* Sven: 5059, 5065, 5085: compcall, compctl -K ' func', avoid
	  recursion, fix dynamic loading

	* pws: 5047: make install doesn't make install.info

	* Phil/Bart: 5032, 5037: zless with localoptions added

	* Sven: 5022, 5045, 5078: ${(t)param} and nounset behaviour

	* Andrej: 5016: insert zsh.info into dir when installing

	* pws: new mirror site ftp://ftp.win.ne.jp/pub/shell/zsh/

	* Sven: 4986, 4988: new-style completion after redirection

	* Sven: 4981: fix completion whitespace for copy-previous-word

	* Sven: 4979, 4987: new glob modifiers for sort order and
	  selecting items from list

	* Sven: 4976: compadd and new-completion-examples

	* Sven: 4975, 5007: comptl -M matches with *'s

	* Sven: 4974: compctl list with single string

	* Andrej: 5021: configuration on Reliant UNIX

	* Bart: 4965: add-on

	* Sven: 4957: completion after redirection

	* Made available as 3.1.5-pws-5; top level directory now
	  zsh-3.1.5-pws-5

	* Helmut Jarausch: 4947: part of patch missed

	* Sven: 4850, 4881, 4941, 4942, 4943, 4944, 4946, 4949, 4950,
	  4945: New completion system

	* Sven: 4940: compctl -t (minor incompatibility)

	* pws: 4939: configure checks for tgetent() accepts null but then
	  tgetstr() dumps core

	* pws: 4931: compiler warnings

	* Sven: 4930: completion after reserved words

	* pws/Bart: 4923, 4924: findcmd() memory leak and comment

	* pws: 4912: Etc/MACHINES

	* pws: 4902: typeset neatness, -a, -m

	* Bart: 4893: setting assoc array elements inside a substitution

	* Andrej Borsenkow + pws: 4888: zftp shouldn't dup sockets until
	  connected

	* Oliver Kiddle: 4887: configure

	* Sven: 4880: conditions from module again

	* Sven: 4879: group completion

	* Sven: 4878: accept-and-menu-complete

	* Bart: 4874: array slices

	* Geoff: 4855: refresh line the same length as terminal width

	* pws: 4852: zftp test subcommand

	* Bart: 4851: sethparam(), part got missed

	* 3.1.5-pws-4 made available

	* Sven: 4845: isident()

	* Sven: 4837, 4842: more for loadable conditions

	* Sven: 4828: ignored character

	* Bart/Sven: 4826, 4831, 4836: assoc array fixes

	* Gene Cohler + pws: 4824, 4833, 4843: dynamical loading under
	  HPUX

	* Sven: 4821: network byte order in zftp

	* Bart: 4817: parameter documentation

	* Sven: 4806, 4815, 4820, 4822, 4830: be careful when unloading
	  modules which may have side effects

	* pws: 4805: define INADDR_NONE in zftp if not defined

	* pws: 4801: compilation without HAVE_GETPWUID

	* Bart: 4792: Handle --program-{suf,pre}fix in configure

	* Bart: 4791: don't hash PWD after all

	* Bart: 4789, 4794, 4795: sethparam(), setsparam; allow assoc
	  array assignment ${(AA)=assoc::=key1 val1 ...}

	* Bart: 4788: some missing patches put back

	* Phil: 4784: unused variable j in glob.c

	* Phil: 4783: wtmp is in /var/log on Linux

	* pws: 4779: compiling statically linked

	* pws: version 3.1.5-pws-3 made available

	* Sven: 4767: completion listing fix

	* Bart: 4763, 4766, 4764: associative arrays using subscripting
	  flags and typeset output

	* Bart: 4762: use of conddef without dynamic loading

	* pws: 4761: zftp module

	* Phil: 4737: typeset -a docs

	* pws: 4736, 4754: ${foo/orig/new} subst as in bash; optimize
	  pattern matching in strings
	
	* Phil Pennock: 4727: associative arrays in stat builtin

	* Sven: 4716, 4732, 4734, 4742, 4769:  allow modules for
	  conditions and wrappers around functions

	* Sven: 4700: heap memory fixes suggested by Phil Pennock

	* Sven: 4698, 4707: ignore completions if cursor not in
	  completable part of word

	* Sven: 4697: zle_tricky.c

	* pws: 4693: case-indendent globbing fix

	* Bart: 4678: viforwardword

	* pws: don't use vifirstnonblank()in vioperswapcase()

	* Bart: 4674: scanmatchtable()

	* Bart: 4482: cdmatch2

	* Bart: 4644: delimiters in parameter substitution flags

	* Bart: 4624: don't be too clever with optimizing when doing ***

	* pws: 4612: 8 bit character input problem if char was signed

	* Bart: 4606: error messages from parameters

	* pws: 4601: rewrite prompt truncation in more predictable,
	  delimitable way

	* Bart: 4599, 4602, 4608, 4641, 4653, 4654: associative arrays

	* pws: 4596: allow PWD to be hashed on explicit user request

	* pws: 4595: globbing fix for problem which showed up in `case'

	* Wilfredo Sanchez: 4594: fix configure problems

	* pws: 4591: test line length in prompt e.g. %(40l.yes.no)

	* Bart: 4589: PWD and OLDPWD fix

	* Bart: 4472: doc fixes

	* Bart: 4471: fixes for shell functions

	* Bart: line missed in zle_tricky.c when patching

	* Bart: 4589: chpwd

	* pws: lete2ctl update

	* pws: fixsuffix() missed in delcharorlist() when patching

	* Bart: 4574: doc fix

	* Bart: 4570: flags to allow zle command not to interrupt
	  cumulative effects, deltochar

	* pws: 4564: fix completion suffix for yank

	* pws: 4533: ~PWD should not be displayed as such

	* pws: 4513, 4552: case-insensitive globbing (#i)

	* Sven: 4509, 4510, 4526, 4527, 4534, 4557: alternative matches in
	  completion (compctl -t), mapping between characters on line and
	  in matches (compctl -M)

	* pws: 4477: change function names to avoid dynamic loading
	  clashes

	* Bart: 4473, 4475, 4476: collected minor fixes since 3.1.5

	* Zoli: 3933: AIX dynamic patch

Thu Oct 29 21:51:10 1998  Andrew Main  <zefram@zsh.org>

	* Config/version.mk: Version 3.1.5.

	* Doc/Makefile.in, Doc/META-FAQ.yo: Format the plain-ASCII
	  META-FAQ in a manner consistent with the other plain-ASCII
	  documents.

	* Src/exec.c: Retry reading from a pipe on EINTR, to avoid
	  getting truncated output.  (schaefer, u1880)

	* acconfig.h, aczsh.m4, configure.in, Src/compat.c, Src/system.h,
	  Src/watch.c: New zsh_STRUCT_MEMBER macro for structure member
	  tests (changes names of some existing preprocessor defines).
	  Test for d_ino and d_stat in struct dire[nc]t.  New code in
	  zgetdir() to make use of d_stat if available.

	* Src/params.c, Src/system.h, Src/watch.c: Move definition of
	  DEFAULT_WATCHFMT into watch.c (where the decision about which
	  utmp structure to use is made).

	* Doc/Zsh/metafaq.yo: Another mirror (sunsite.doc.ic.ac.uk).

Wed Oct 28 21:02:28 1998  Andrew Main  <zefram@zsh.org>

	* Src/builtin.c: More accurate test for ncurses, for the benefit
	  of systems where ncurses' termcap.h is used.

	* Etc/BUGS, Etc/CONTRIBUTORS, Etc/FEATURES, Etc/MACHINES,
	  Etc/NEWS, INSTALL, README, Util/zsh-development-guide:
	  Consistent formatting.

	* Etc/NEWS: List universal-argument and POSIX character classes.

	* Doc/Zsh/metafaq.yo, Etc/CONTRIBUTORS: Use more zsh.org email
	  addresses.

Tue Oct 27 20:23:18 1998  Andrew Main  <zefram@zsh.org>

	* Etc/FAQ.yo: New version, 1998-10-26.  (pws)

Mon Oct 26 21:13:42 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/guide.yo, Doc/Zsh/metafaq.yo, Etc/CONTRIBUTORS,
	  Functions/checkmail, Functions/run-help, Functions/zed,
	  Misc/compctl-examples, Misc/lete2ctl, README,
	  Src/Builtins/rlimits.awk, Src/Zle/zle_main.c, Src/makepro.awk,
	  Src/signames.awk, Util/helpfiles, Util/reporter: Consistently
	  use zsh.org email addresses where available.  Remove some
	  stray individual credits from the source, in favour of the
	  more usual credit in ChangeLog and CONTRIBUTORS files.

	* acconfig.h, configure.in, Src/watch.c: Some systems have ut_tv
	  in struct utmpx, rather than ut_xtime or ut_time.

Sun Oct 25 21:04:01 1998  Andrew Main  <zefram@zsh.org>

	* Src/exec.c: Save and restore simple_pline.  (pws, 4390)

	* Src/loop.c: Set isfirstln to get the right behaviour on ^D
	  in select.  (pws, 4389)

	* Src/exec.c: Don't fail to AUTO_CD if there is an improperly
	  hashed external command of the same name.  (pws, 4426;
	  schaefer, 4434)

	* Src/builtin.c: getopts wasn't resetting all its counters
	  correctly.  (schaefer, 4416)

	* Src/Zle/zle_tricky.c: Prevent removable suffixes remaining in
	  effect when a new completion is attempted.

	* Doc/Zsh/compctl.yo: Add an example of usage of n[...] to the
	  compctl manual.  (pws, u1857)

	* Src/Zle/zle_main.c, Src/Zle/zle_misc.c: Give ungetkey()
	  external linkage.

	* Doc/Zsh/zle.yo, Src/Zle/zle_misc.c: Make universal-argument
	  accept a typed integer, EMACS-style.  (pws, 4425)

	* Src/Zle/zle.h, Src/Zle/zle_misc.c: Fix neg-argument.  (pws,
	  4420)

Sat Oct 17 17:12:31 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/mod_files.yo: Note that mv won't move across devices.

	* Doc/Zsh/expn.yo: Add some examples to the parameter expansion
	  section.  (schaefer, 4402)

	* Src/jobs.c: Unset STAT_DONE when adding a process to a job,
	  in case $() processes finish before all the processes have
	  been started.  (pws, 4397)

	* Doc/Zsh/builtins.yo, Src/builtin.c, Src/hashtable.c, Src/zsh.h:
	  type/whence/where/which -w gives machine-readable output.
	  (pws, 4388)

	* Doc/Zsh/builtins.yo: Document the effect of unset on a local
	  parameter.

	* Src/params.c: unset should not remove the localness of a
	  local parameter.  (pws, 4317)

	* Src/compat.c, Src/prototypes.h: Give gethostname() the right
	  prototype (the length argument is a size_t), and implement it
	  to spec.

	* Doc/Zsh/metafaq.yo: New address for web-based mailing list
	  archive (http://www.zsh.org/mla/).

	* Doc/Zsh/metafaq.yo: New mirror (foad.org).

Thu Oct 15 19:07:17 1998  Andrew Main  <zefram@zsh.org>

	* configure.in, Src/Modules/cap.c, Src/utils.c: Check for the
	  existence of cap_get_proc() rather than cap_init(), because
	  some systems have a different cap_init().

	* Etc/MACHINES: Format changes.  Removed some entries that didn't
	  actually contain any intelligible information.

	* Etc/MACHINES: Tested on FreeBSD 2.2.7.  (Roland Jesse
	  <jesse@prinz-atm.cs.uni-magdeburg.de>, u1770)

	* acconfig.h, configure.in, Src/watch.c: Handle systems where
	  struct utmpx has a member named ut_time rather than ut_xtime.

	* Src/parse.c: Do not require a separator after esac.  (hzoli,
	  4376)

	* Doc/Makefile.in: Ignore errors from makeinfo.

	* Src/Zle/zle_thingy.c: Use permanent allocation when executing
	  widgets.  (schaefer, 4350)

	* Functions/multicomp: Fix for leading tildes; made
	  case-insensitive.  (schaefer, 4342)

	* Src/Zle/zle_utils.c: Fix an uninitialised pointer in
	  mkundoent().  (pws, 4315)

	* config.guess: Support Netwinder (arm-unknown-linux).
	  (Jason Naughton <jnaughto@ee.ryerson.ca>, 4308)

	* configure.in: Dynamic linking on OSF.  (<simond@informix.com>,
	  4258)

	* Misc/lete2ctl: Update for Perl5.004.  Use compctl -/ and -W.
	  Some other fixes.  (pws, 4245)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo: Minor typo fixes.
	  (schaefer, 4232)

	* Src/signals.h: A variable was being modified twice without an
	  intervening sequence point.  (Gray Watson <gwatson@lycos.com>,
	  4221)

	* Makefile.in: Remove spurious ";\".  (Gray Watson
	  <gwatson@lycos.com>, 4221)

Tue Oct 13 21:42:47 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/expn.yo, Src/glob.c: Add the [:blank:] character class
	  required by POSIX, which has no corresponding ctype macro.

	* Doc/Zsh/expn.yo, Misc/globtests, Src/glob.c, Src/lex.c:
	  Add POSIX globbing character classes ([:alnum:] etc.).
	  (pws, 4209+4212)

Sun Oct 11 20:39:06 1998  Andrew Main  <zefram@zsh.org>

	* Src/Zle/zle_tricky.c: Make compctl -S '' work properly (i.e.,
	  suppress the addition of the default suffix).  (schaefer, u1668)

	* Src/loop.c: Fix the handling of empty user input to select.
	  (schaefer, 4200)

	* Src/utils.c: Y2K bugfix in %y sequence in ztrftime().
	  (zefram, 4198)

	* Src/init.c, Src/main.c: Abort on parse errors, except when
	  reading input from stdin.  (pws, 4191; some semantic changes
	  by zefram)

	* Misc/compctl-examples: Fix the setopt completion in the case
	  where KSH_OPTION_PRINT is set.  (schaefer, 4176)

	* Doc/Zsh/compctl.yo: Mention the read builtin in the
	  documentation of compctl -K.  (sven, 4150)

	* Src/Zle/zle_tricky.c: Fixed a bug where completing in a word
	  could duplicate part of the word due to it being in both the
	  common prefix and the common suffix.  (sven, 4147)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compat.yo, Doc/Zsh/expn.yo,
	  Doc/Zsh/grammar.yo, Doc/Zsh/intro.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/params.yo, Doc/Zsh/restricted.yo, Doc/Zsh/zle.yo:
	  Spelling/typo fixes in documentation.  (schaefer, 4136)

	* Misc/compctl-examples: Better implementations of the CVS
	  compctl functions.  (schaefer, 4130)

Sun Sep 27 18:31:55 1998  Andrew Main  <zefram@zsh.org>

	* Doc/zsh.yo, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo, Doc/Zsh/guide.yo,
	  Doc/Zsh/intro.yo, Doc/Zsh/params.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/zle.yo: Clarification of the expansion documentation.
	  Several other documentation bugfixes.  (schaefer, 4116)

	* Src/Modules/rlimits.awk: Cosmetic fix of the generated file.

	* Src/Modules/rlimits.awk: Avoid using the sub() function,
	  which some older awks lack.

	* Doc/Zsh/grammar.yo: List "builtin" as a precommand modifier.

	* Doc/Zsh/builtins.yo: Fuller details of the interaction between
	  options of the read builtin.  (schaefer, 4109)

	* Src/Modules/stat.c: The ls-style mode string was not being
	  terminated.  (Goran Larsson <hoh@lorelei.approve.se>, 4105)

	* Src/Zle/zle_hist.c: Make use of repeat count in history
	  searches.  (wayne, 4104)

	* Src/Zle/zle_hist.c: Some bugfixes and code simplifications
	  for {vi-,}{up,down}-line-or-{history,search}.  (wayne, 4086)

Sat Sep 26 16:08:53 1998  Andrew Main  <zefram@zsh.org>

	* Etc/zsh-development-guide: Expanded the section on C coding
	  style.  Added some notes about documentation.

	* configure.in, Src/exec.c, Src/glob.c, Src/hashtable.c,
	  Src/init.c, Src/params.c, Src/system.h, Src/utils.c,
	  Src/Modules/stat.c, Src/Zle/zle_tricky.c: Cope with systems
	  that lack <pwd.h>, <grp.h>, nice(), getpw{ent,nam,uid}(),
	  getgr{gid,nam}().

	* Doc/Zsh/metafaq.yo: uiarchive now mirrors ftp.zsh.org.

	* Doc/ztexi.yo, Doc/Zsh/expn.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/redirect.yo, Doc/Zsh/zle.yo: Some minor documentation
	  fixes.  (schaefer, 4045)

	* Src/hist.c, Src/input.c, Src/parse.c: Simplification and
	  bugfixes of the input flushing code on history and parse
	  errors.  (pws, 4172)

	* configure.in: Use "1,$s" instead of ",s" in the generated
	  ed script, for compatibility with historical systems.

Mon Sep 21 19:16:03 1998  Andrew Main  <zefram@zsh.org>

	* Src/Makefile.in: Clean up conditionals in install/uninstall
	  rules.

	* Config/clean.mk, Config/config.mk, Src/Makemod.in.in: Avoid
	  empty argument list in for loops, for /bin/sh.

	* aczsh.m4, configure.in, Etc/MACHINES: Check for systems with
	  broken static/shared library combinations, such as SINIX.

	* Doc/Zsh/params.yo, Src/builtin.c, Src/params.c: Make PWD and
	  OLDPWD parameters non-special.  (hzoli, 3990; doc by zefram)

	* Src/builtin.c: Don't crash when exporting an unset special
	  parameter.  (hzoli, 3983)

	* Src/Zle/zle_utils.c: Mark sticks to preceding character instead
	  of the following one.  (wayne, 3969)

	* Src/builtin.c, Src/init.c, Src/utils.c: Set stdin to read
	  blockingly where appropriate.  (hzoli, 3950; POSIXification
	  by zefram)

Mon Sep 14 14:44:32 1998  Andrew Main  <zefram@zsh.org>

	* Makefile.in, configure.in, Config/.distfiles, Config/config.mk,
	  Config/defs.mk, Config/version.mk, Doc/.cvsignore,
	  Doc/.distfiles, Doc/Makefile.in, Doc/paths.yo.in,
	  Doc/zman.yo, Doc/zsh.yo, Doc/ztexi.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/filelist.yo, Doc/Zsh/files.yo, Doc/Zsh/mod_comp1.yo,
	  Doc/Zsh/modules.yo, Doc/Zsh/options.yo, Doc/Zsh/params.yo,
	  Etc/Makefile.in, Src/.distfiles, Src/Makefile.in,
	  Src/Makemod.in.in, Src/version.h, Src/zsh.mdd: Move version
	  data into a single file, Config/version.mk.  Remove all site
	  dependencies from the documentation.  Some related Makefile
	  cleanups.

Sun May 31 09:28:18 1998  Andrew Main  <zefram@zsh.org>

	* Src/version.h: Version 3.1.4.

	* Doc/paths.yo.in: New date.

	* configure.in, aczsh.m4, acconfig.h, Src/system.h,
	  Src/watch.c: Don't confuse utmp and utmpx files.  Don't rely
	  on having a utmp structure at all.

	* Src/system.h, Src/Modules/clone.c, Src/Modules/files.c,
	  Src/builtin.c, Src/compat.c, Src/exec.c, Src/hist.c, Src/init.c,
	  Src/utils.c: Use O_NOCTTY on all open() calls, to get consistent
	  behaviour (no controlling tty) on all systems.

	* Doc/Zsh/grammar.yo: Correct and clarify the "simple commands &
	  pipelines" section.  (schaefer, u1548; markup and some additions
	  by zefram)

	* Src/params.c: When unsetting paired special parameters (e.g.,
	  CDPATH/cdpath), don't try to remove names that don't exist.
	  (hzoli, 3974)

Sat May 30 16:16:13 1998  Andrew Main  <zefram@zsh.org>

	* Src/system.h: #define _XPG_IV on SINIX (Reliant UNIX).  It is
	  reported that this is necessary in order to get the right
	  version of gettimeofday().

	* Doc/Zsh/grammar.yo, Src/lex.c, Src/subst.c, Src/utils.c,
	  Etc/NEWS: ksh93 $'' syntax.  (hzoli, 3952; documentation
	  clarifications by zefram)

Thu May 28 21:13:04 1998  Andrew Main  <zefram@zsh.org>

	* Functions/checkmail: Zero-length folders don't count as
	  containing new mail, regardless of when they've been examined.
	  (hzoli, 3963)

	* Src/glob.c: When globbing `foo/', stat `foo/.', so that only
	  directories are matched (as POSIX requires).  With (-T)
	  qualifier, dangling symlinks should be matched as normal.
	  With (T-/), etc., stat the pathname *before* modification by
	  (T).  (hzoli, 3960)

	* Src/Modules/stat.c: Some old K&R compilers don't like automatic
	  aggregate initialisation.  (hzoli, 3962)

	* Src/glob.c: tail was assumed to be NULL when pattern parsing
	  was called.  (hzoli, 3961)

	* Src/builtin.c: Fix off-by-one allocation bug in read.
	  (hzoli, 3951)

	* Src/builtin.c: Cleanup of read builtin.  Also backslash should
	  quote characters, as well as performing line continuation.
	  (hzoli, 3949)

	* Src/Zle/zle_tricky.c: Remove prototype cast for
	  yp_callback.foreach, because on some systems the prototype
	  is wrong.  (hzoli, 3948)

	* Src/math.c: Avoid an unbalanced stack error on $((0x1+0x1)).
	  (hzoli, 3947)

	* Src/params.c: PM_UNIQUE should persist across changes of
	  parameter type.  (hzoli, 3946)

	* Etc/NEWS: List major changes from 3.0.

Tue May 26 21:39:06 1998  Andrew Main  <zefram@zsh.org>

	* Src/glob.c, Doc/Zsh/expn.yo: `~' alone should not trigger
	  globbing.

Mon May 25 21:13:41 1998  Andrew Main  <zefram@zsh.org>

	* Src/mkmakemod.sh, configure.in, aczsh.m4: Link modules against
	  $(LIBS), and include -lc in $(LIBS), in case a module requires
	  a function that only exists in static libraries.

	* Src/makepro.awk: Change `\{' to `[{]' in regexps, because some
	  nawks dislike the former.

	* configure.in: Use tr to avoid giving backslashes to echo
	  (which may interpret them).

Fri May  1 19:39:12 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/metafaq.yo: ftp.math.technion.ac.il now mirrors
	  ftp.zsh.org.

Thu Apr 30 20:19:47 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.3.

	* Doc/paths.yo.in: New date.

	* Src/Modules/stat.c: Remove some unused variables.

	* configure.in: Start of configuration for dynamic modules
	  on netbsd.  (gcw)

	* Doc/Zsh/metafaq.yo: New mirror (ftp.roedu.net).  ftp.cs.elte.hu
	  and ftp.cenatls.cena.dgac.fr now mirror ftp.zsh.org.

Wed Apr 29 20:24:16 1998  Andrew Main  <zefram@fysh.org>

	* many files: Remove RCS Id lines.

	* Etc/pubring.pgp: Change mason's DSS/DH key.

	* Doc/Zsh/metafaq.yo: New mirror (sunsite.auc.dk).
	  ftp.math.gatech.edu now mirrors ftp.zsh.org.

Tue Apr 28 23:18:44 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/metafaq.yo: New primary archive, ftp.zsh.org.

	* Etc/FAQ.yo: New version, 1998-04-24.  (pws)

	* Etc/FTP-README, Etc/pubring.pgp, Etc/.distfiles: Include these
	  files from the FTP site in the distribution.

	* configure.in, Util/mkdisttree.sh, Config/, Config/clean.mk,
	  Config/config.mk, Config/defs.mk Makefile.in,
	  Doc/Makefile.in, Etc/Makefile.in, Functions/Makefile.in,
	  Misc/Makefile.in, Src/Makefile.in, Src/Makemod.in.in,
	  StartupFiles/Makefile.in, Util/Makefile.in, .distfiles,
	  Config/.distfiles, Doc/.distfiles, Doc/Zsh/.distfiles,
	  Etc/.distfiles, Functions/.distfiles, Misc/.distfiles,
	  Src/.distfiles, Src/Builtins/.distfiles, Src/Modules/.distfiles,
	  Src/Zle/.distfiles, StartupFiles/.distfiles, Util/.distfiles:
	  Modify config.status to add a file inclusion facility;
	  this is used to remove common code from many Makefiles.
	  New distribution-building mechanism: `.distfiles' files list
	  the files to go in the distribution, and Util/mkdisttree.sh
	  processes these.  As a result, directories in which nothing
	  is ever built no longer need Makefiles.

Sun Apr 26 22:08:06 1998  Andrew Main  <zefram@fysh.org>

	* configure.in, Src/mkmakemod.sh: Modify config.status to allow
	  .in files in the build tree.

Sun Apr 26 19:35:17 1998  Andrew Main  <zefram@fysh.org>

	* Src/glob.c: Glob patterns with | alternation at the top level
	  were not setting C_LAST flags correctly.  (zefram, 3876)

Sun Apr 26 13:49:28 1998  Andrew Main  <zefram@fysh.org>

	* Src/cond.c, Src/glob.c, Src/system.h, Src/utils.c,
	  Src/Modules/files.c, Src/Modules/stat.c, Src/Zle/zle_tricky.c:
	  Use POSIX S_I* macros instead of fixed octal values.  (zefram,
	  3875)

	* configure.in, Src/params.c, Src/system.h: Don't need configure
	  test for sizeof(long).

	* configure.in, Src/cond.c, Src/glob.c, Src/system.h,
	  Src/Modules/files.c, Src/Modules/stat.c, Src/Zle/zle_tricky.c:
	  Use S_IS* macros in all cases instead of S_IF*.  Define S_IS*
	  macros for file types that don't exist, to avoid needing
	  conditionals; support readlink() similarly.  Add more file
	  type letters to the stat module.  (zefram, 3874)

Sat Apr 25 22:58:34 1998  Andrew Main  <zefram@fysh.org>

	* Src/Zle/zle_misc.c: Fix an array overrun in suffix removal,
	  caused by a signed/unsigned char mixup.  (zefram, 3873)

Sat Apr 25 17:15:32 1998  Andrew Main  <zefram@fysh.org>

	* Src/utils.c: Make CHASE_LINKS take effect on cd, as documented.
	  (zefram, 3872)

	* Misc/globtest, Misc/globtest.ksh, Src/glob.c: Fix for exclusions
	  nested inside more complex glob patterns.  (pws, 3870)

Thu Apr 23 21:21:29 1998  Andrew Main  <zefram@fysh.org>

	* META-FAQ, Doc/META-FAQ.yo, Doc/Makefile.in, Doc/Zsh/guide.yo,
	  Doc/Zsh/intro.yo, Doc/Zsh/metafaq.yo, Doc/Zsh/seealso.yo:
	  Generate the META-FAQ and the related parts of the documentation
	  from a common source (Doc/Zsh/metafaq.yo).  Updated list of
	  mirror sites.

	* Src/exec.c: Back out patch 3859.  NO_CLOBBER should allow
	  opening non-regular files (POSIX.2 clause 3.7.2).  Instead fix
	  the errno handling.  (zefram, 3869)

Wed Apr 22 21:11:30 1998  Andrew Main  <zefram@fysh.org>

	* Etc/BUGS, Etc/MACHINES: sed is no longer used for generating
	  prototypes.  We also now know about /proc/self/fd.

	* Misc/compctl-examples: Remove some code to cope with very old
	  zsh versions.

	* Etc/CONTRIBUTORS, Util/zsh-development-guide, Doc/Zsh/intro.yo,
	  META-FAQ, README: New coordinator.

	* Src/exec.c: NO_CLOBBER should prevent opening FIFOs, not just
	  overwriting regular files.  (zefram, 3859)

Wed Apr  8 20:29:28 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram4.

	* Src/Zle/zle_keymap.c: Bind "^[OA" etc. as well as "^[[A".
	  Change vi arrow key bindings to match vi practice.  (zefram)

	* Src/jobs.c: Don't read tty settings when ZLE is active.
	  (pws, 3818)

	* Src/Zle/zle_keymap.c: Don't set errflag in bindkey.  (pws, 3815)

	* Etc/FAQ: New FAQ version, 1998-03-24.  (pws, a76)

	* Misc/compctl-examples: tar completion that lists files in
	  the archive.  (pws, u1409)

	* Src/glob.c: Fix foo(:s/foo/bar).  (pws, 3808)

	* Src/subst.c: Fix ${i:s/foo/bar}.  (pws, 3806)

	* Doc/Zsh/expn.yo: Mention in the parameter expansion section
	  that history modifiers can be used.  (pws, 3805)

Mon Apr  6 21:45:30 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Src/glob.c, Src/options.c,
	  Src/parse.c: More glob changes:
	  + remove `-(...)' glob qualifier syntax
	  + allow normal qualifier syntax with KSH_GLOB
	  + add option BARE_GLOB_QUAL (emulation-relevant, zsh-only)
	    that enables glob qualifiers
	  + remove the paren twiddling when using patterns in [[ ]]
	    and case
	  (zefram)

	* Misc/globtests, Misc/globtests.ksh: More tests for exclusions,
	  which currently don't work properly.  (zefram)

Sun Apr  5 20:00:40 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Src/glob.c: Glob changes:
	  + KSH_GLOB doesn't affect parens that are not preceded by the
	    special characters
	  + correctly handle combinations like ?(foo)##
	  + parens always trigger globbing
	  + with EXTENDED_GLOB, embedded `~' triggers globbing,
	    as the documentation already states
	  + remove incorrect special handling of (^...)
	  + general documentation cleanup
	  (zefram)

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Misc/globtests,
	  Misc/globtests.ksh, Src/glob.c, Src/options.c, Src/parse.c,
	  Src/zsh.h: KSH_GLOB.  (pws, 3764)

Sat Apr  4 15:44:05 1998  Andrew Main  <zefram@fysh.org>

	* Src/Zle/zle_tricky.c: expand-or-complete-prefix rewrite.
	  (pws, 3770)

Wed Mar 25 21:51:15 1998  Andrew Main  <zefram@fysh.org>

	* Src/builtin.c: getopts bugfixes.  (bugs pointed out by Bernd
	  Eggink <eggink@uni-hamburg.de>, 3797)

	* Misc/compctl-examples: Completions for ssh, nslookup, telnet,
	  ping, finger and gdb.  (<mirar@idonex.se>, u1274; some fiddling)

	* Misc/compctl-examples: pine completion.  (pws, u1359)

Tue Mar 24 21:36:47 1998  Andrew Main  <zefram@fysh.org>

	* Src/compat.c, Src/prototypes.h: gettimeofday() returns int,
	  not void.  (zefram)

	* Misc/compctl-examples: cvs completion.  (<mirar@idonex.se>,
	  u1243; much fiddling)

	* Misc/compctl-examples: lynx completion.  (Oliver Kiddle
	  <opk101@cs.york.ac.uk>, 3760; some fiddling for portability)

Mon Mar 23 21:18:11 1998  Andrew Main  <zefram@fysh.org>

	* Src/loop.c: Don't reprint the select list after non-empty input.
	  (Bernd Eggink <eggink@uni-hamburg.de>, 3796)

	* configure.in: Display module compiler flags.  (zefram)

	* Src/signames.awk, Src/Builtins/rlimits.awk: Remove leading
	  zeros from decimal constants to avoid interpretation as octal.

	* configure.in: define CLOBBERS_TYPEAHEAD for SINIX.  (Andrej
	  Borsenkow <borsenkow.msk@sni.de>, 3737)

	* Misc/compctl-examples: mount completion.  (Stefan Monnier
	  <monnier@tequila.systemsz.cs.yale.edu>, u1238)

Sun Mar 22 19:02:04 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/prompt.yo, Src/utils.c: %L strftime sequence to do %l
	  without fill.  (pws, 3731)

	* Src/prompt.c, Doc/Zsh/prompt.yo: %L prompt escape for $SHLVL.
	  (Phil Pennock <bear@dcs.warwick.ac.uk>)

	* Src/Makefile.in: Use LD_RUN_PATH instead of -R.  (Andrej
	  Borsenkow <borsenkow.msk@sni.de>, 3739)

	* Etc/FAQ: New FAQ version, 1998-03-02.  (pws, a75)

Thu Jan 15 23:28:02 1998  Andrew Main  <zefram@fysh.org>

	* Src/makepro.awk, Src/mkmakemod.sh, Src/mkmodindex.sh:
	  Portability fixes.  (zefram, 3713)

	* configure.in: Test for yp_all(), not getdomainname(), to see
	  if -lnsl is required.  (zefram, 3715)

	* Makefile.in, Src/Makefile.in, Src/Makemod.in.in: Accept
	  $(INSTALL) being a relative pathname, set by configure.
	  (zefram, 3716)

	* configure.in, Src/Makefile.in: More logical name for libzsh.
	  Install/uninstall/clean libzsh.  Link with a -R option to
	  indicate where libzsh will be installed.  (zefram, 3714)

	* Src/glob.c: Don't use up more digits in a <-> glob pattern
	  than the range can match.  There are still several cases that
	  don't work; backtracking is required.  (pws, 3680)

Sun Jan 11 19:22:13 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram3.

	* Src/builtins.c: Rewrote getopts to remove its various bugs.

Sun Jan 11 14:22:50 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Makefile.in, Etc/Makefile.in, Functions/Makefile.in,
	  Makefile.in, Misc/Makefile.in, Src/Makefile.in,
	  Src/Makemod.in.in, StartupFiles/Makefile.in, Util/Makefile.in:
	  Pass on all configuration variables to all Makefiles.

	* Src/mkmakemod.sh: Fix $sed_normalise script to allow for
	  compilation in the source tree.

Sat Jan 10 23:56:33 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram2.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/comp1.c,
	  Src/Zle/compctl.c, Src/Zle/zle_tricky.c: compctl -Y is like -X,
	  but performs expansion on the string.  compctl -y allows the
	  displayed completions to be user-generated.  (pws, 3636)

Sat Jan 10 16:27:30 1998  Andrew Main  <zefram@fysh.org>

	* Misc/compctl-examples: Use compctl -W where appropriate.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c: compctl -W applies an invisible prefix
	  when matching pathnames.  (pws, 3498+3502)

	* Misc/compctl-examples: Use compctl -/ where appropriate.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c: compctl -/ completes directories in the
	  manner of -f.  (pws, 3492+3493+3495+3502)

Sat Jan 10 00:36:04 1998  Andrew Main  <zefram@fysh.org>

	* Makefile.in, Src/Makefile.in, Src/Makemod.in.in: make clean
	  fixes.

Fri Jan  9 21:04:38 1998  Andrew Main  <zefram@fysh.org>

	* Src/system.h, Src/zsh.h, Src/utils.c, Src/parse.c: Don't
	  depend on any relation between sizes of ints and pointers when
	  duplicating/freeing structures.

	* Src/Zle/zle_refresh.c: Refresh bugfix.  (schaefer, 3511)

	* Util/helpfiles: Updated.  (pws, 3598)

	* Doc/Zsh/intro.yo: Mention the list archives.

	* configure.in: Prefer -lcurses to -ltermcap on HP-UX 10.*.
	  (pws, 3360)

Fri Jan  9 01:28:46 1998  Andrew Main  <zefram@fysh.org>

	* Src/Makefile.in: ansi2knr was being built as a.out.

Wed Jan  7 23:44:16 1998  Andrew Main  <zefram@fysh.org>

	* Src/glob.c, Misc/globtests: Backtrack in globbing, to support
	  nested closures.  (pws, 3513+3514+3515+3525)

	* Doc/Zsh/expn.yo: Clarifications and corrections to the
	  documentation for history expansion modifiers.  (pws, 3549)

	* Src/subst.c: Fix for a typo that made RC_EXPAND_PARAM expansion
	  of an empty array go horribly wrong.  (hzoli, 3548)

	* Src/builtin.c, Src/hist.c: Neater method to remove fc commands
	  from the history list.  (pws, 3531)

	* Src/builtin.c, Src/init.c, Src/main.c: Make $(r) work.
	  (pws, 3526)

Wed Jan  7 22:17:31 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/options.yo, Src/Zle/zle_tricky.c: Completion in brace
	  expansion, with magic suffix removal on `,' and `}' triggered by
	  AUTO_PARAM_KEYS.  (pws, 3438; suffix code rewritten by zefram)

	* Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo: Print -X explanation
	  iff there was not a unique match, rather than iff there were
	  no matches.  (code: hzoli, 3423.  doc: pws, 3424)

Wed Jan  7 20:44:46 1998  Andrew Main  <zefram@fysh.org>

	* Src/init.c, Doc/Zsh/func.yo: preexec shell function is run
	  immediately before running each command.  (pws, u1068)

	* Src/Zle/zle_main.c: Select keymap earlier; apparently
	  this avoids a crash in some circumstances.  (Bernd Eggink
	  <eggink@uni-hamburg.de>, 3625)

	* Src/mem.c: zrealloc() should check for out-of-memory condition.
	  (hzoli, 3522)

	* Src/subst.c: A fix for `a="a "; print -l ${(o)=a}b'.  (hzoli,
	  3522)

	* Src/rlimits.awk: Some awks do not like || in the pattern.
	  (hzoli, 3522)

	* Misc/c2z: Many corrections.  (schaefer, 3484)

	* Doc/Zsh/expn.yo: An extra paragraph explaining RC_EXPAND_PARAM
	  behaviour.  (pws, 3417; markup brought into line with the rest
	  of the documentation)

	* Src/zsh.h, Src/subst.c, Src/utils.c: Make parameter expansion
	  with RC_EXPAND_PARAM behave the same as brace expansion,
	  and make it make sense.  (hzoli, 3403)

	* Src/parse.c: Fix error recovery on inputs such as
	  `( [[ $I bug 10 ]] )', which previously got mangled.
	  (hzoli, 3383)

	* configure.in, Src/Builtins/rlimits.awk: Find and correctly
	  handle the GNU hurd <resourcebits.h>, which defines RLIMIT_*
	  in an enum.  (Kunihiro Ishiguro <kunihiro@zebra.org>, 3369)

	* Src/glob.c: restrict leaf optimisation of recursive globs to
	  the case of nlink == 2.  Some systems don't keep proper link
	  counts for directories, but will probably distinguish themselves
	  by having a link count of 1 or 0 for directories.  (hzoli, 3368)

Tue Jan  6 23:29:43 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram1.

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: Rewrite of the
	  removable suffix mechanism.  In all cases, the longest possible
	  meaningful suffix is added, and on following insertions the
	  minimum trailing part of the suffix removed in order to put
	  the character in a sensible place.  (zefram, 3353)

	* Doc/Zsh/options.yo, Src/options.c, Src/utils.c, Src/zsh.h:
	  Option PRINT_EIGHT_BIT, indicates that characters >= 0x80 are
	  printable, even if isprint() says otherwise.  (pws, 3318)

	* Src/Zle/zle_utils.c: Spaces were getting added to the end of
	  the line when menu completing.  (pws, 3308)

	* Src/jobs.c: Set STAT_NOSTTY in bg.  The result is that
	  STAT_NOSTTY is set if a job is ever run backgrounded.
	  (Suzuki Hisao <suzuki@otsl.oki.co.jp>, 3302)

	* Src/Zle/zle_tricky.c, Src/params.c: A couple of memory leaks.
	  (pws, 3301)

	* Src/zsh.h, Src/exec.c, Src/jobs.c: New job flag STAT_NOSTTY
	  means don't inherit the tty settings from this job when it
	  exits.  Is set on jobs that are started in the background.
	  (hzoli, 3297)

	* Src/params.c: Keep actual inherited environment strings around
	  while importing individual variables.  This is required because
	  the special behaviour when setting $TERM (and potentially
	  other variables) depends on the value of other variables.
	  (hzoli, 3293)

	* Src/glob.c: In `*(-M)', the (-) should affect the type of stat
	  used for (M).  (pws, 3285)

	* Src/Zle/zle_refresh.c: Buffer overrun bug fix.  (gcw, 3260)

	* INSTALL, Makefile.in, configure.in, Src/Makefile.in,
	  Src/**/*.c, Src/mkbltnmlst.sh, Src/prototypes.h,
	  Src/signals.h, Src/signames.awk, Src/xmods.conf, Src/zsh.h,
	  Src/Zle/comp.h, Src/Zle/zle.h, Src/Makemod.in.in,
	  Src/mkmakemod.sh, Src/mkmodindex.sh, Src/zsh.mdd,
	  Src/Builtins/rlimits.mdd, Src/Builtins/sched.mdd,
	  Src/Modules/cap.mdd, Src/Modules/clone.mdd,
	  Src/Modules/example.mdd, Src/Modules/files.mdd,
	  Src/Modules/stat.mdd, Src/Zle/comp1.mdd, Src/Zle/compctl.mdd,
	  Src/Zle/deltochar.mdd, Src/Zle/zle.mdd, Src/conf.sed,
	  Src/mkstamp.sh, Src/mods.conf, Src/Builtins/Makefile.in,
	  Src/Modules/Makefile.in, Src/Zle/Makefile.in: Rewrite of
	  the module build system.  Knowledge specific to each module
	  is localised in a .mdd file for that module.  Makefiles and
	  headers are automatically generated.  (zefram, 3252)

	* Src/jobs.c: `disown' was leaking memory.  (pws, 3251)

	* Src/subst.c: `set "$@"' was freeing strings while still needed,
	  due to paramsubst() not duplicating them.  (zefram, 3250)

	* Src/glob.c: globbing of `foo*r~foob*' was failing, due to
	  the character before the ~ not being marked as being the end
	  of a pattern.  (pws, 3249)

	* Src/Zle/zle_tricky.c: AUTO_PARAM_KEYS was adding suffix
	  characters in the middle of a word if completing within a word.
	  (hzoli, 3247)

	* Src/params.c: filter out garbage when importing environment
	  variables.  (hzoli, 3246)

	* Doc/Zsh/builtins.yo, Doc/Zsh/mod_compctl.yo,
	  Doc/Zsh/mod_sched.yo, Doc/Zsh/mod_zle.yo: Move documentation
	  of the standard moduleified builtins into zshmodules(1).
	  (zefram, 3244)

	* Src/Makefile.in, Src/builtin.c, Src/exec.c, Src/glob.c,
	  Src/globals.h, Src/hashtable.c, Src/hashtable.h, Src/hist.c,
	  Src/init.c, Src/input.c, Src/jobs.c, Src/lex.c, Src/loop.c,
	  Src/makepro.awk, Src/math.c, Src/mem.c, Src/module.c,
	  Src/options.c, Src/params.c, Src/parse.c, Src/prompt.c,
	  Src/prototypes.h, Src/signals.c, Src/signals.h,
	  Src/signames.awk, Src/subst.c, Src/utils.c, Src/zsh.h,
	  Src/Builtins/Makefile.in, Src/Modules/Makefile.in,
	  Src/Zle/Makefile.in, Src/Zle/comp.h, Src/Zle/comp1.c,
	  Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: Move all object
	  declarations into .c files, so that they are processed by
	  makepro.awk.  (zefram, 3243)

	* Src/Makefile.in, Src/builtin.c, Src/exec.c, Src/glob.c,
	  Src/globals.h, Src/hist.c, Src/init.c, Src/jobs.c,
	  Src/lex.c, Src/main.c, Src/math.c, Src/mem.c, Src/options.c,
	  Src/params.c, Src/parse.c, Src/signals.c, Src/watch.c,
	  Src/zsh.h, Src/Builtins/Makefile.in, Src/Modules/Makefile.in,
	  Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c, Src/makepro.sh,
	  Src/makepro.awk: Generate prototypes with an awk script, which
	  handles data declarations as well as functions.  Make data
	  objects static where appropriate.  (zefram, 3242)

	* Src/builtin.c, Src/exec.c, Src/hashtable.c, Src/hashtable.h,
	  Src/module.c, Src/zsh.h, Src/Builtins/rlimits.c,
	  Src/Builtins/sched.c, Src/Modules/cap.c, Src/Modules/clone.c,
	  Src/Modules/example.c, Src/Modules/files.c, Src/Modules/stat.c,
	  Src/Zle/compctl.c, Src/Zle/zle_main.c: Use struct builtin
	  instead of struct binlist, avoiding some dynamic memory
	  allocation.  (zefram, 3241)

	* configure.in, Src/builtin.c, Src/Builtins/Makefile.in,
	  Src/Builtins/rlimits.c, Src/Modules/cap.c: Always build the
	  rlimits module.  (zefram, 3240)

	* Src/builtin.c, Src/globals.h, Src/init.c, Src/input.c,
	  Src/loop.c, Src/prompt.c, Src/utils.c, Src/Zle/zle.h,
	  Src/Zle/zle_main.c, Src/Zle/zle_refresh.c: Format prompts once
	  per editing session, so that they don't get changed improperly.
	  (zefram, 3239)

	* Doc/Zsh/compat.yo, Doc/Zsh/options.yo, Doc/Zsh/prompt.yo,
	  Src/options.c, Src/prompt.c, Src/zsh.h: Options PROMPT_PERCENT
	  and PROMPT_BANG, controlling which type of sequences get
	  expanded in prompts.  Set appropriately for sh and ksh
	  emulation.  (zefram, 3052)

	* Doc/Zsh/options.yo, Src/exec.c, Src/options.c, Src/zsh.h:
	  Option HIST_NO_FUNCTIONS, to exclude function definitions
	  from the history list.  Option alias NO_LOG (from ksh).
	  (zefram, 3050)

	* Src/init.c: When emulating sh or ksh, make the default prompts
	  "$ " (or "# ") and "> ".  (zefram, 3004)

	* Doc/Zsh/options.yo, Src/builtin.c, Src/options.c, Src/utils.c,
	  Src/zsh.h: Option RM_STAR_WAIT to wait ten seconds at the `rm
	  *' prompt.  (zefram, 2999)

Tue Jun  3 06:14:14 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.2 released

	* Src/params.c: Some compilers do not like ? (void *) :

	* Src/jobs.c: pg(){ less;};:|pg caused suspended (tty input)

Mon Jun  2 07:52:31 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/paths.yo.in: Updated date

	* Doc/paths.yo, Doc/zsh.1, Doc/zsh.texi, Doc/zshall.1,
 	  Doc/zshbuiltins.1, Doc/zshcompctl.1, Doc/zshexpn.1,
 	  Doc/zshmisc.1, Doc/zshmodules.1, Doc/zshoptions.1,
 	  Doc/zshparam.1, Doc/zshzle.1: generated zsh-3.1.2 manuals

	* Doc/Zsh/builtins.yo, Doc/Zsh/params.yo: Typo fixes from Tomasz
 	  Cholewo (3163)

	* Src/Zle/zle_refresh.c: Xterm cut & paste fixes from Geoff (3135)

	* Src/hist.c: Fix !# history expansion during completion.  From
 	  Peter (3132)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compat.yo, Doc/Zsh/expn.yo,
 	  Doc/Zsh/func.yo: Minor documentation fixes from Zefram (3125)

	* Doc/Zsh/guide.yo, Doc/Zsh/intro.yo: The zsh web site moved

	* Etc/FAQ, Etc/FAQ.yo: FAQ from Peter: Id: zshfaq.yo,v 1.6
 	  1997/05/29 09:15:00 pws Exp

	* Etc/Makefile.in: Do not make FAQ.yodl by default

	* INSTALL: Instructions about dynamic modules and builtin modules

	* Functions/zls: Improved zll module renamed to zls supporting the
 	  ailLFd options

	* Src/glob.c: The T glob flag did not work

Sun Jun  1 08:02:19 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/system.h: Use _POSIX_VDISABLE is available.  Fixes ^@ in zle
 	  on some systems.

	* Src/Zle/zle_tricky.c: expand-or-complete-prefix fixed

	* Src/Builtins/rlimits.c, Src/Builtins/sched.c,
 	  Src/Modules/clone.c, Src/Modules/example.c, Src/Zle/comp1.c,
 	  Src/Zle/compctl.c, Src/Zle/deltochar.c, Src/Zle/zle_hist.c,
 	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_move.c, Src/Zle/zle_params.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c,
 	  Src/Zle/zle_vi.c, Src/Zle/zle_word.c, Src/builtin.c,
 	  Src/compat.c, Src/cond.c, Src/exec.c, Src/glob.c,
 	  Src/hashtable.c, Src/hist.c, Src/init.c, Src/input.c, Src/jobs.c,
 	  Src/lex.c, Src/linklist.c, Src/loop.c, Src/main.c, Src/math.c,
 	  Src/mem.c, Src/module.c, Src/options.c, Src/params.c,
 	  Src/parse.c, Src/prompt.c, Src/prototypes.h, Src/signals.c,
 	  Src/subst.c, Src/text.c, Src/utils.c, Src/watch.c: Declare
 	  functions used locally in one file static.

Sat May 31 07:29:53 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/comp.h, Src/prototypes.h, Src/makepro.sh,
 	  Src/Builtins/Makefile.in, Src/Makefile.in,
 	  Src/Modules/Makefile.in, Src/Zle/Makefile.in, Src/Zle/zle.h,
 	  Src/module.c: Use fixed names for module make/cleanup funxtions.
  	  Generate prototypes for static functions.  Ideas from articles
 	  3123 and 3124 from Zefram.

Thu May 29 05:17:31 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/cond.c: directories are always executable by root

	* META-FAQ: The zsh web page moved.

	* aclocal.m4, configure, configure.in: --enable-ansi2knr configure
 	  option added.  From Zefram (3122)

Tue May 20 05:22:16 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/utils.c: if abort or edit used on a correct prompt, do not
 	  attempt to correct further words on the line.

Sun May 18 18:57:08 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c, Src/init.c, Src/signals.c, Src/jobs.c:
 	  Do not handle SIGPIPE specially for shells with job control

	* Src/init.c, Src/jobs.c, Src/utils.c: (:); while true; do; done
 	  was uninterruptible.  Sometimes LINES/COLUMNS was not set
 	  properly for non-interractive shells.

	* Src/exec.c, Src/signals.c: `:`; while true; do; done was
 	  uninterruptible

Mon May 12 09:01:55 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* configure, configure.in: on NetBSD <sys/time.h> is needed for
 	  rlimit type checks.  From Geoff.

	* Src/hist.c: !:2-1 history expansion caused memory corruption

Sun May 11 08:52:00 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/lex.c: $((foo);bar) syntax works

	* Src/hist.c: A terminal hangup caused coredump while saving history

	* Src/globals.h, Src/init.c, Src/params.c: if we cannot get the
 	  correct window size with ioctl, set LINES and COLUMNS from
 	  termcap.

	* Src/builtin.c: make sure zexit is not reentered when its
 	  execution is interrupted by a signal.

Fri May  9 07:59:00 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/utils.c: print_if_link (used by whence -s) did not work well.

	* Doc/zsh.texi: @br{} removed

	* Src/exec.c: Quick hack: do not open file redirections if noexec
 	  is set

	* Src/jobs.c: printjobs() set errflag when the foreground process
 	  was interrupted.

Thu May  8 09:18:56 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/cond.c: [[ -x file ]] does stat for privileged users

	* Src/Zle/zle_utils.c: do no read line[ll] (which is undefined)

	* Src/signals.c: flush the input queue on interrupt

	* Src/lex.c, Src/parse.c: improve parsing of for ((...))

	* Src/Zle/zle_tricky.c, Src/hist.c, Src/lex.c, Src/parse.c:
	  ((foo);bar) now works

Wed May  7 14:50:08 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Etc/Makefile.in: make clean should delete generated htmls

Tue May  6 06:33:06 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Etc/Makefile.in: rules to create FAQ and FAQ.html from the yodl
 	  source

	* Doc/Makefile.in, Doc/Zsh/guide.yo, Doc/Zsh/mod_cap.yo,
 	  Doc/Zsh/mod_clone.yo, Doc/Zsh/modules.yo, Doc/Zsh/prompt.yo,
 	  Src/Modules/Makefile.in, Src/Modules/cap.c, Src/mods.conf,
 	  Src/prompt.c, Src/system.h, Src/utils.c, config.h.in, configure,
 	  configure.in: Make the shell aware of POSIX.1e capabilities and
 	  add a cap builtin module.  From Zefram (3088)

	* Src/Zle/zle_main.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: vi
 	  line range bugfix from Zefram (3094)

	* Src/signals.c: WINCH traps did not work.  From Peter (3093)

	* Src/hashtable.h, Src/params.c: LC_* parameters stopped working
 	  after patch 3014.  From Zefram (3089)

	* Doc/Zsh/builtins.yo, Doc/Zsh/restricted.yo, Src/builtin.c,
 	  Src/hashtable.h: hash builtin fixes from Zefram (3061)

	* Src/Zle/zle_thingy.c, Src/hashtable.c, Src/params.c, Src/zsh.h:
 	  Allow adding/deleting nodes during scanhashtable.  From Zefram
 	  (3058)

Mon May  5 09:29:22 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/hist.c: % word designator fix from Bruce Murphy
 	  <packrat@iinet.net.au> (3065)

	* Doc/Zsh/builtins.yo, Src/builtin.c, Src/hashtable.h,
 	  Src/utils.c: whence -s prints expanded symlinks (idea from
 	  art. 3067 by Juergen A. Erhard <jae@laden.ilk.de>).  Use zputs
 	  in whence. xsymlinks return 1 iff it found some symlinks or ../
 	  (previously it always returned 0 although it had some
 	  never-reached return 1 statements).

	* Src/params.c: zero LINES/COLUMNS should not set narrow/short
 	  term.  From Zefram (3063)

	* Src/builtin.c: typeset -R UID caused a coredump

	* Src/globals.h, Src/mem.c, Src/prototypes.h: alloc/ncalloc
 	  declarations moved to globals.h.  From Zefram (3057)

	* Doc/Makefile.in, Doc/zsh.yo: doc install and zshall fixes.  From
 	  Zefram (3056)

	* Src/prototypes.h, Src/system.h, config.h.in, configure,
 	  configure.in: checks for memcpy and memmove.  From Zefram (3055)

	* Doc/Zsh/params.yo: parameter documentation improvements.  From
 	  Zefram (3051)

	* Src/utils.c: simplify adjustwinsize().  Based on art. 3053 from
 	  Zefram.

	* Src/Zle/zle_main.c, Src/Zle/zle_params.c, Src/builtin.c,
 	  Src/exec.c, Src/globals.h, Src/init.c, Src/params.c: remove
 	  locallist.  From Zefram (3049)

	* Doc/Zsh/builtins.yo, Doc/Zsh/guide.yo, Doc/Zsh/params.yo,
 	  Src/builtin.c, Src/params.c: local parameters can hide special
 	  parameters.  From Zefram (3048)

Sun May  4 06:16:44 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Builtins/Makefile.in, Src/Makefile.in,
 	  Src/Modules/Makefile.in, Src/Zle/Makefile.in, aczsh.m4,
 	  configure, configure.in: Strip shared modules and executables if
 	  possible.  From Zefram (3038)

	* Doc/Zsh/mod_sched.yo, Doc/Zsh/guide.yo, Doc/Zsh/mod_files.yo,
 	  Doc/Zsh/mod_stat.yo, Doc/Zsh/modules.yo,
 	  Src/Builtins/Makefile.in, Src/Builtins/sched.c, Src/Makefile.in,
 	  Src/builtin.c, Src/globals.h, Src/hashtable.h, Src/init.c,
 	  Src/linklist.c, Src/mods.conf, Src/utils.c, Src/xmods.conf,
 	  Src/zsh.h: The sched builtin moved to a separate module.  From
 	  Zefram (3037)

	* Src/Builtins/rlimits.c, Src/prototypes.h, Src/hashtable.h,
 	  Src/mods.conf, Src/xmods.conf, Src/Builtins/Makefile.in,
 	  Src/Makefile.in, configure, configure.in: Src/Builtins directory
 	  created.  rlimits.c moved to Src/Builtins and converted into a
 	  loadable module.

Wed Apr 30 07:40:30 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/Zsh/grammar.yo, Src/globals.h, Src/lex.c, Src/loop.c,
 	  Src/parse.c, Src/text.c, Src/zsh.h: ksh style ;& case
 	  fall-through feature from Zefram (3062)

	* Src/text.c: printing case commands were broken.  From Zefram (3062)

	* Doc/Zsh/builtins.yo, Doc/Zsh/func.yo, Doc/Zsh/options.yo,
 	  Src/builtin.c, Src/exec.c, Src/hashtable.c, Src/options.c,
 	  Src/utils.c, Src/zsh.h: KSH_AUTOLOAD option from Zefram (3060)

	* Src/module.c: Do not remove dependencies for a module when it is
 	  unloaded. From Zefram (3033)

	* Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Src/builtin.c,
 	  Src/exec.c, Src/utils.c: get{sh,fp}func() return &dummy_list for
 	  non-existent functions.  This allows autoloading empty
 	  functions.  From Zefram (3036)

	* Src/exec.c: Assume ksh-autoloading only if the autoloaded file
 	  is a single function definition.  From Zefram (3032)

	* Src/Makefile.in, Src/mkbltnmlst.sh, Src/mkstamp.sh,
 	  Src/xmods.conf, aczsh.m4, configure, configure.in: Link comp1
 	  into the main zsh if the system lacks RTDL_GLOBAL functionality.
  	  From Zefram (3030)

	* config.h.in, configure, aczsh.m4, configure.in, Makefile.in,
 	  acconfig.h, aclocal.m4: The config part of the nameclash patch
 	  from Zefram (3028).  The code part does not work with ansi2knr.

Mon Apr 28 07:28:34 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
 	  Src/Zle/deltochar.c, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_misc.c, Src/Zle/zle_move.c, Src/Zle/zle_params.c,
 	  Src/Zle/zle_refresh.c, Src/Zle/zle_thingy.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
 	  Src/Zle/zle_word.c, Src/builtin.c, Src/globals.h, Src/init.c,
 	  Src/zsh.h: move compctl related read stuff global variables from
 	  the main binary into the comp1 module.  From Zefram (3029)

	* Src/Zle/zle_tricky.c: Yet an other suffix removal fix from
 	  Zefram (3024)

	* Src/builtin.c, Src/system.h, acconfig.h, config.h.in, configure,
 	  configure.in, Src/Builtins/rlimits.c: Use rlim_t if available

	* Doc/Zsh/builtins.yo, Doc/Zsh/restricted.yo, Src/globals.h,
 	  Src/init.c, Src/jobs.c, Src/main.c: jobs -Z documented, improved
 	  and disabled in restricted mode.  From Zefram (3027)

	* Doc/Zsh/builtins.yo, Src/hashtable.h, Src/jobs.c: jobs -d prints
 	  the working current directory of jobs.  From Peter (2889)

	* Doc/Zsh/restricted.yo, Src/module.c: disallow adding module
 	  dependencies with absolute pathnames in restricted mode.  From
 	  Zefram (3025)

	* Doc/Zsh/options.yo, Src/options.c: New option aliases to please
 	  bash users: dotglob, hashall, histappend, histexpand, mailwarn,
 	  onecmd and promptvars.  From Zefram (3026)

	* Etc/FAQ.yo: from Peter: Id: zshfaq.yo,v 1.5 1997/04/24 10:19:15
 	  pws Exp

	* Etc/FAQ: April 24 1997 FAQ from Peter

	* Src/Makefile.in, Src/Zle/zle_params.c, Doc/Zsh/zle.yo,
 	  Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_main.c,
 	  Src/exec.c, Src/hashtable.h, Src/mods.conf, Src/params.c,
 	  Src/zsh.h: New special parameters {,L,R}BUFFER, CURSER added
 	  only present in zle widget functions.  Virtualised unset method
 	  in struct param.  pm->data modev to pm->u.data.  From Zefram
 	  (3014)

	* Src/Zle/zle_thingy.c: Fix a memory leak when unloading zle with
 	  user-defined widgets.  From Zefram (3015)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/builtin.c,
 	  Src/globals.h, Src/init.c, Src/input.c, Src/loop.c, Src/utils.c,
 	  Src/zsh.h: Remove in_vared and use a third parameter to zleread
 	  to allow history recall.  histallowed is a new zle global
 	  variable for that.  Rename inzlefunc to incompctlfunc.  Add some
 	  checks to avoid dangerous recursive zle calls.  From Zefram
 	  (3013)

	* Src/Zle/zle_main.c, Src/Zle/zle_tricky.c: menu completion did
 	  not work well with auto_param_keys.  From Zefram (3011)

Sat Apr 26 06:26:11 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Functions/zed: Reenter zed if it fails to save the file

	* Functions/zed: Use bindkey -L to temporarily save bindings.
  	  From Zefram (3012)

	* Src/builtin.c, Src/init.c: Do not retry failed autoloads.  From
 	  Zefram (3010)

	* Src/Makefile.in, Src/mkbltnmlst.sh: non-dynamic zsh can be built
 	  without zle.  From Zefram (3008)

	* Doc/Zsh/builtins.yo, Src/module.c: Rearrange modules.c.
  	  zmodload -qu removes dependencies.  From Zefram (3009)

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -i -a works as one
 	  would expect.  From Zefram (3007)

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -a argument swap to
 	  allow autoloading multiple builtins from a single file in one
 	  command.  From Zefram (2997)

Fri Apr 25 06:41:36 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/zman.yo: use UPPERCASE yodl macro

	* Functions/cdmatch, Misc/compctl-examples: compctl-examples
 	  improvements from Zefram (3006)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_thingy.c: ZLE unload code from Zefram (3005)

	* Src/options.c: NOTIFY is off in sh/ksh mode.  From Zefram (3003)

	* Doc/Zsh/builtins.yo, Doc/Zsh/zle.yo, Misc/compctl-examples,
 	  Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/iwidgets.list,
 	  Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
 	  Src/Zle/zle_main.c, Src/Zle/zle_misc.c, Src/Zle/zle_move.c,
 	  Src/Zle/zle_things.sed, Src/Zle/zle_thingy.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c, Src/Zle/zle_widget.sed,
 	  Src/Zle/zle_word.c, Src/xmods.conf: New ZLE widgets allow
 	  user-defind ZLE functions.  From Zefram (3002)

	* Src/params.c: ${foo#bar} writes to the value of foo which can be
	  a const causing SEGV.  From Zefram (2998)

	* Src/Modules/files.c: files module fixes from Zefram (2996)

	* Functions/zll, Src/Modules/Makefile.in, Src/Modules/stat.c,
 	  Src/mods.conf: stat module fixes from Zefram (2995)

	* Functions/zll, Src/Modules/stat.c: stat module from Peter (2994)

	* Doc/Makefile.in, Doc/Zsh/compctl.yo, Doc/Zsh/guide.yo,
 	  Doc/Zsh/intro.yo, Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_comp1.yo,
 	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_deltochar.yo,
 	  Doc/Zsh/mod_example.yo, Doc/Zsh/mod_files.yo,
 	  Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zle.yo, Doc/Zsh/modules.yo,
 	  Doc/Zsh/seealso.yo, Doc/zsh.yo, Doc/zshmodules.yo: Module
 	  documentations from zefram (2994)

Sun Apr 20 07:24:12 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/init.c, Src/params.c, Src/utils.c: Remove setintenv()

Tue Apr 15 05:51:27 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c: SGTABTYPE can contain more than one bit
 	  set.  From Geoff (2976)

	* Doc/Zsh/prompt.yo, Src/prompt.c, Src/utils.c, Src/watch.c: New
 	  escapes %K and %f inside %D{...} promt sequences.  %k and %e are
 	  now compatible with strftime().  From Peter (2963)

	* Src/Zle/zle_keymap.c: bindkey -s "^X^L" "^@" produced a pound
 	  sterling sign.  From Zefram (2951)

	* Src/Zle/zle_main.c: vared 1 caused a coredump.  From Peter (2909)

	* Src/exec.c, Src/signals.c: execute trap on EXIT in the caller's
 	  environment. From Peter (2896)

	* Src/Zle/zle_tricky.c: Autoparamkeys broken by earlier patch
 	  fixed.  From Zefram and Peter (2894)

	* Src/Zle/zle_tricky.c: Clear menucur in invalidatelist().  From
 	  Peter (2881)

	* Src/Zle/zle_main.c: vared path caused permanent
 	  allocation in arrayfixenv

Sat Apr 12 04:27:34 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_misc.c: Overwrite mode did not work

Sat Mar  8 00:17:24 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/compctl.c: Sometimes an incorrect compctl caused a core
 	  dump.  From Peter (2942)

Fri Mar  7 23:54:18 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in: zle_binding.pro is not used

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/builtin.c,
 	  Src/globals.h, Src/init.c, Src/params.c, Src/prompt.c,
 	  Src/zsh.h: termok changed to termflags.  Modified version of
 	  art. 2970 from Geoff

Thu Mar  6 18:06:17 1997  Zoltan T. Hidvegi  <hzoli@vnet.ibm.com>

	* Src/init.c, Src/params.c, Src/utils.c: handle narrow and short
	  terminals centralized in zlevarsetfn().  From Bart and me
	  (2956, 2957)

Wed Mar  5 23:37:30 1997  Zoltan T. Hidvegi  <hzoli@vnet.ibm.com>

	* Src/Zle/zle.h, Src/Zle/zle_refresh.c: act as if single_line_zle
	  were set when LINES < 3.  From Geoff (2865)

	* Doc/zmacros.yo: Use UPPERCASE() yodl macro instead of chartable
 	  hacks.  From Zefram (2873)

	* Src/Zle/zle_tricky.c: menu completing parameters removed
 	  non-existent / suffix. From Zefram (2872)

	* Src/Zle/zle_bindings.c: Some zle functions did not use
 	  ZLE_KEEPSUFFIX.  From Zefram (2871)

	* Src/Zle/Makefile.in, Src/Zle/zle.h: zle_bindings doesn't define
 	  any functions so zle_bindings.pro is not needed

	* Src/loop.c: $? was incorrectly reset before executing case,
	  while, for

Tue Feb 18 20:59:51 1997  Zoltan Hidvegi  <hzoli@vnet.ibm.com>

	* Src/Zle/zle_bindings.c: M-p and M-n defaults to
	  history-beginning-search-*

	* Src/builtin.c: getopts handling of required argument fix from
	  Andrew Robinson (2846)

	* Src/builtin.c, Src/globals.h, Src/hist.c, Src/lex.c, Src/zsh.h:
	  History fixes: fc -AI;fc -R now do not confuse hist_ignore_dups
	  and some other cleanups from Peter (2845).  Contains changes
	  from articles 2748 and 2755.

	* Src/signals.c: An #ifdef SIGWINCH was missing.  From Hrvoje
	  Niksic <hniksic@srce.hr> (2844)

	* Src/Modules/files.c: fix problems on machines with unsigned long
	  mode_t.  From Zefram (2843)

	* Doc/Makefile.in, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/expn.yo, Doc/Zsh/guide.yo, Doc/Zsh/prompt.yo,
	  Doc/Zsh/restricted.yo, Doc/zman.yo, Doc/zsh.yo, Doc/ztexi.yo,
	  configure.in: Various documentation fixes from Zefram (2842)

	* Src/exec.c: return from a function called from a loop breaked
	  the loop

	* Src/lex.c: eval \$\{$#\} did not work

Tue Feb 11 20:25:59 1997  Zoltan Hidvegi  <hzoli@cs.elte.hu>

	* config.h.in, Src/compat.c, Src/utils.c, configure, configure.in:
	  stupid AIX 3.2 does not have fchdir

Tue Jan 28 00:57:37 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.1 released

	* Doc/paths.yo, Doc/zsh.1, Doc/zsh.texi, Doc/zshall.1,
 	  Doc/zshbuiltins.1, Doc/zshcompctl.1, Doc/zshexpn.1,
 	  Doc/zshmisc.1, Doc/zshoptions.1, Doc/zshparam.1, Doc/zshzle.1:
 	  yodl generated generated documentation

Mon Jan 27 22:04:29 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/signals.c: temprarily set breaks to zero when executing a trap

	* Src/exec.c: do not reset breaks in doshfunc

	* Src/parse.c: words following for ((...)) are in command position.

Sun Jan 26 23:29:48 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/hashtable.h: fix cd -, use unrecognized
 	  option arguments literally

	* Src/exec.c: localoptions should not restore RESTRICTED

	* Src/signals.c: terminate a restricted shell if an untrapped INT
 	  signal is received

	* Src/init.c: set noerrexit to -1 in setupvals()

Sat Jan 25 20:07:46 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/subst.c, Src/utils.c: some assignments were missing from my
 	  spacesplit fix

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.23 1997/01/24 13:21:16
 	  pws Exp

	* config.h.in, configure, configure.in: check for setsid()

	* Src/Modules/Makefile.in, Src/Modules/clone.c: new builtin: start
 	  a forked instance of the current shell on a new terminal

Thu Jan 23 15:45:27 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c, Src/globals.h, Src/prompt.c:
	  redisplay fix for multiline prompts from Geoff (2817)

	* Src/subst.c, Src/utils.c: a${=:- }b expanded to `ab'

	* Doc/Zsh/compctl.yo, Doc/Zsh/guide.yo, Doc/Zsh/options.yo,
 	  Doc/Zsh/restricted.yo, Doc/zsh.yo, Doc/zshmisc.yo: RESTRICTED
 	  option documentation

	* Doc/Makefile.in: generate everything with yodl

	* Doc/zman.yo, Doc/ztexi.yo: itemize environment added

	* Src/module.c: disable zmodload -a and loading explicitely given
 	  modules when restricted

	* Doc/Zsh/zle.yo: what-cursor-position zle function documented

Wed Jan 22 00:54:02 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/Zsh/builtins.yo: cd -sLP documentation

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -au removes defined
 	  but not yet loaded builtins

Tue Jan 21 20:38:24 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/ztexi.yo: sitem() fix for TeX

	* Misc/compctl-examples: limit/unlimit compctl improvemenmt

	* Doc/Zsh/builtins.yo, Doc/ztexi.yo: TeX changes

Mon Jan 20 21:11:22 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/hashtable.h, acconfig.h, config.h.in, configure,
 	  configure.in: some old compilers cannot initialise a union

	* Src/Zle/zle.h, Src/Zle/zle_keymap.c, Src/options.c: changes for
 	  K&R compilers

	* Src/Zle/deltochar.c: deltochar is IN_ZLE

	* Src/Modules/files.c, Src/Zle/zle_misc.c, Src/mem.c: stupid SunOS
 	  4 has broken headers

	* Src/system.h: cast alloca in VARARR

	* Src/Zle/zle_bindings.c, Src/Zle/zle_keymap.c,
 	  Src/Zle/zle_misc.c: what-cursor-position zle function added

	* Src/Zle/zle_utils.c: move the mark when characters are
 	  inserted/deleted.  From Peter (2807)

	* Src/builtin.c, Src/hashtable.h: bash/ksh compatible cd -LP options

	* Src/utils.c: lchdir fix

	* Src/Modules/files.c: rm -r works with arbitrary deep
 	  hierarchies.  rm -r can be interrupted

Sun Jan 19 13:30:36 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/glob.c: glob arbitrary deep directory structures

	* Src/mem.c, Src/Zle/zle_keymap.c, Src/subst.c, Src/utils.c,
	  Src/zsh.h: add real hrealloc()

Sat Jan 18 22:34:17 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_keymap.c: in bindkey -s the string was not zrdupped.

	* Src/utils.c: after Zefram's changes getkeystring should return
	  the result on the heap

	* Src/utils.c: fix file descriptor leak in lchdir

	* acconfig.h, config.h.in, configure, configure.in: use the
	  AC_FUNC_STRCOLL builtin autoconf test

	* Src/subst.c, Src/system.h, config.h.in, configure, configure.in:
	  alloca() and VARARR macro added which defines a variable sized
	  automatic array

Tue Jan 14 23:17:34 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/glob.c: debugging changes (the change is mostrly reindentation)

	* Src/Zle/zle_move.c: vi-goto-column did not move to the last column

	* Src/glob.c: some old C compilers cannot use typedefed type
	  defined function prototypes

	* Src/exec.c: PATH=foo somecommand gives error in restricted mode

	* Src/options.c, Src/init.c: the -r command line option turns on
	  restricted mode

Mon Jan 13 21:28:35 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c, Src/hashtable.h, Src/init.c,
	  Src/options.c, Src/params.c, Src/text.c, Src/zsh.h: RESTRICTED
	  option added

Sun Jan 12 01:00:04 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c: automenu starts iff lastambig is true.
	  From Zefram (2781)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_move.c: add ZLE_LASTCOL flag to
	  zle-commands which set lastcol.  From Zefram (2780)

	* Src/Zle/deltochar.c, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: zle removable suffix
	  cleanup.  ZLE_INSERT and ZLE_DELETE is gone and ZLE_KEEPSUFFIX
	  added for commands which do not remove autoremovable suffixes.
	  From Zefram (2779)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_utils.c: remove
	  some code duplications and undo fixes.  From Zefram (2769)

Sat Jan 11 23:45:50 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/compat.c: lstat is defined to stat on systems without lstat

	* Src/system.h: define lstat(X,Y) instead of lstst if HAVE_LSTAT
	  is not defined

	* Src/Zle/zle_tricky.c: ll was not restored for xorrec

	* Src/builtin.c: read -l forgot to duplicate line before assignment

	* Src/jobs.c: do not execute trap when only the child receives the
	  signal.  Based on article 2480 from Zefram.

	* Src/builtin.c, Src/jobs.c: move job control builtins to jobs.c

	* Src/builtin.c: fix bugs when there was no current job after disown

Thu Jan  9 16:07:31 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/rlimits.c: zstrtorlimit was defined instead of zstrtorlimt

	* Src/Modules/Makefile.in, Src/Zle/Makefile.in: some buggy makes
	  could not find out how to make .so from .c

Wed Jan  8 22:02:51 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/Zsh/zle.yo, Doc/zsh.texi, Doc/zshzle.man, Src/Zle/zle.h,
	  Src/Zle/zle_bindings.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_utils.c: zle undo rewrite from Zefram (2746)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_misc.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
	  Src/utils.c: feep() just sets a flag and the main zle loop calls
	  beep() when this flag is set so multiple feeps cause only one
	  beep.  From Zefram (2745)

	* Src/hist.c, Src/main.c, Src/utils.c: use shout instead of stderr
	  where appropriate.  From Zefram (2743)

	* configure, configure.in: on NetBSD <sys/time.h> is needed for
	  rlimit type checks.  Based on article 2742 from Geoff

	* Src/builtin.c: empty cd caused a coredump

	* Doc/Makefile.in: texi -> dvi suffix rule added

	* Doc/Zsh/redirect.yo: fix a typo.  From Zefram (2685)

	* Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo: brace related bugfixes

	* Doc/Makefile.in, Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/compat.yo, Doc/Zsh/compctl.yo, Doc/Zsh/cond.yo,
	  Doc/Zsh/exec.yo, Doc/Zsh/expn.yo, Doc/Zsh/filelist.yo,
	  Doc/Zsh/files.yo, Doc/Zsh/func.yo, Doc/Zsh/grammar.yo,
	  Doc/Zsh/guide.yo, Doc/Zsh/index.yo, Doc/Zsh/intro.yo,
	  Doc/Zsh/invoke.yo, Doc/Zsh/jobs.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/seealso.yo, Doc/Zsh/zle.yo, Doc/paths.yo.in,
	  Doc/zmacros.yo, Doc/zman.yo, Doc/zsh.yo, Doc/zshbuiltins.yo,
	  Doc/zshcompctl.yo, Doc/zshexpn.yo, Doc/zshmisc.yo,
	  Doc/zshoptions.yo, Doc/zshparam.yo, Doc/zshzle.yo, Doc/ztexi.yo:
	  documentation rewritten into yodl format by Zefram.

Tue Jan  7 23:10:24 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/params.c, Src/builtin.c, Src/exec.c: print error when
	  changing read-only variables, prevent core dump when assigning
	  an array to read-only scalar and some other fixes

	* Src/Zle/zle_tricky.c: compctl -S bugfix

Mon Jan  6 20:43:36 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/exec.c, acconfig.h, config.h.in, configure, configure.in:
	  better /dev/fd filesystem check

	* Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_tricky.c: make
	  dependency cleanups

	* Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_things.sed: autogenerate the enum of z_* and t_*
	  macros.  From Zefram (2731)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: zle
	  prefix commands rewrite from Zefram (2722)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c:
	  history-search-*ward serch for complete words.  From Zefram
	  (2721, 2730)

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c: remove bindkey -u -U options.  From Zefram
	  (2711)

	* Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/zle.h,
	  Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c,
	  Src/mods.conf: first zle extendability patch from Zefram (2710)

Sun Jan  5 23:33:32 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c: do builtin autoloading in execcmd and
	  do not ignore BINF_PSPECIAL and BINF_MAGICEQUALS flags for the
	  builtin being loaded

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/builtin.c, Src/prototypes.h, Src/rlimits.c, Src/utils.c:
	  move limit/ulimit/unlimit builtins to rlimits.c

	* Src/builtin.c, Src/system.h, Src/utils.c, acconfig.h,
	  config.h.in, configure, configure.in: checks for quad_t and
	  unsigned resource types

	* Src/Modules/example.c, Src/Modules/files.c: the copyright notice
	  was different from the rest of the code

	* Src/jobs.c: set_clktck() function added

	* Src/compat.c, Src/Modules/files.c, Src/builtin.c, Src/utils.c,
	  Src/zsh.h: safe rm and cd which do not follow any symlinks

	* Src/builtin.c, Src/rlimits.awk: safe fallback when RLIM_ macros
	  are not found

	* Src/Zle/zle_main.c: EOF ignored in interactive mode when not in
	  the first line.  From Peter (2713)

Fri Jan  3 02:26:03 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Misc/compctl-examples: setopt/unsetopt compctl fixes

	* Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/mods.conf, Src/xmods.conf, Src/Zle/Makefile.in: compctl base
	  module.  compctl no longer depends on zle instead both zle and
	  compctl depends on this new comp1 module.  From Zefram (2700)

	* Src/Zle/zle.h, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/utils.c: add showmsg() which displays
	  an arbitrary message below the ZLE buffer and minibuffer.  From
	  Zefram (2699)

	* Src/Zle/zle_keymap.c, Src/hashtable.c: omit resize option from
	  emptytable thus make is available as a generic emptytable
	  method.  From Zefram (2698)

	* Src/Zle/zle_utils.c: literal ^ characters were not escaped when
	  printing key sequences.  From Zefram (2689)

	* Src/utils.c: finddir() now can cope with arbitrary long
	  directories.	From Zefram (2688)

	* Src/prompt.c: my long directories in prompt fix broke prompt
	  truncation.  From Zefram (2687)

Thu Jan  2 20:57:33 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* configure, configure.in: alpha-linux defines signals in
	  <asm/signum.h>.  From David Krinsky <krinsky@hcs.harvard.edu>
	  (2706)

	* Src/Makefile.in: . does not set positional parameters

	* Src/builtin.c, Src/compat.c: zchdir returns -2 when it looses
	  the current directory.

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/Zle/compctl.c, Src/Zle/zle.h, Src/params.c, Src/zsh.h:
	  header dependencies and inclusions fixes from Zefram (2697)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/conf.sed, Src/mkbltnmlst.sh, Src/mkstamp.sh, Src/mods.conf,
	  Src/xmods.conf: more Makefile fixes from Zefram (2703)

	* Src/Modules/files.c, Src/utils.c: files module rm -r fixes

	* Src/Modules/files.c: make rm -r safe so that it never follows
	  symlinks.

	* Src/utils.c (lchdir): paranoid chdir which does not follow
	  symlinks.  From Zefram (2690)

	* Src/Modules/Makefile.in, Src/Modules/files.c: module with
	  builtin ln, mkdir, mv, rm, rmdir, sync utilities.  From Zefram
	  (2621)

	* Src/compat.c: do not use lstat if HAVE_LSTAT is not defined

	* Src/conf.sed, Src/mkbltnmlst.sh, Src/mkstamp.sh: move big shell
	  scripts from the Makefile to separate files.

Wed Jan  1 20:04:06 1997  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/options.c: remove union initialisation hacks and use optno
	  for aliases

	* Src/params.c, Src/hashtable.h: remove the struct iparam hack
	  which assumed that sizeof(long) == sizeof(void*)

	* Src/system.h, configure, configure.in: dgux CLOBBERS_TYPEAHEAD.
	  From Roderick Schertler <roderick@gate.net> (2623)

Tue Dec 31 02:28:09 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  improve proto dependency rules

	* Doc/zshbuiltins.man, Doc/zshzle.man, Src/Zle/Makefile.in,
	  Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
	  Src/hashtable.c, Src/mods.conf, Src/utils.c, Util/reporter:
	  keymap rewrite from Zefram (2648)

	* Src/Makefile.in: avoid using -nt test operator

	* Src/Zle/zle_tricky.c, Src/params.c, Src/utils.c: use
	  dupstrpfx/ztrduppfx

Mon Dec 30 23:24:46 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/init.c, Src/mods.conf, Src/xmods.conf:
	  automatic generation of linked-in module boot code and automatic
	  autoload code.  From Zefram (2647)

	* Src/utils.c: dupsctruct/freestruct now work even if sizeof(int)
	  != sizeof(void*)

	* Src/options.c: option initialisation did not work on Alpha

	* Src/Makefile.in: some sh's do not like empty for lists

	* Src/options.c: use short instead of enum

	* Src/globals.h, Src/input.c, Src/lex.c, Src/zsh.h: after alias
	  foo='echo ' ; alias bar=foo, foo bar should expand to foo echo.
	  From Peter (2558)

	* Src/compat.c: zgetcwd's result should not be freed

	* Src/prompt.c (putpromptchar): handle long pwd

	* Src/builtin.c, Src/compat.c, Src/init.c: zgetcwd's result should
	  not be freed

	* Src/glob.c: make functions only called from glob.c static.
	  Rearrange functions so that they are already defined when first
	  referenced.

Sun Dec 29 22:34:21 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Doc/zshexpn.man, Doc/zshmisc.man, Src/glob.c,
	  Src/lex.c: brace related bugfixes

	* Src/glob.c, Src/utils.c: fix a buffer overflow bug in parsecomp()

	* Src/exec.c, Src/loop.c, Src/parse.c: case argument should not be
	  globbed

Sat Dec 28 19:55:04 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/options.c (optlookup): no prefix was ignored

	* Src/Makefile.in, Src/Modules/example.c, Src/Zle/compctl.c,
	  Src/Zle/zle_main.c, Src/init.c, Src/module.c, Src/zsh.h:
	  addbuiltins() and deletebuiltins() functions to add/delete a
	  group of builtins.  From Zefram (2646)

Fri Dec 27 23:33:20 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Modules/example.c, Src/Zle/compctl.c, Src/Zle/zle_main.c,
	  Src/init.c, Src/module.c: addbuiltin can now set all members of
	  the builtin structure.  From Zefram (2643)

	* Src/options.c: set ALWAYSLASTPROMPT, APPENDHISTORY, AUTOLIST,
	  AUTOMENU, AUTOPARAMKEYS, AUTOPARAMSLASH, AUTOREMOVESLASH,
	  LISTAMBIGUOUS, LISTTYPES options by default

	* Src/main.c, Src/options.c, Src/zsh.h: use the hastable functions
	  for optiontab instead of the optns array.

	* Src/exec.c: minor noclobber changes

Thu Dec 26 22:43:13 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/exec.c, Src/hist.c, Src/lex.c, Src/mem.c, Src/params.c,
	  Src/subst.c, Src/text.c, Src/utils.c: all "can't happen"
	  messages start with a BUG: From Zefram (2633)

	* Src/Makefile.in: better rules for version changes

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  some Makefile cleanups

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  configure, configure.in: use ..o suffix for module objects.
	  From Zefram (2632)

	* Src/Makefile.in, Src/init.c, Src/zsh.h: only init.o depends on
	  zshxmods.h.  From Zefram (2631)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  some hacks to get parallel make work.	 From Zefram (2630)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_misc.c, Src/Zle/zle_move.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c, Src/Zle/zle_word.c,
	  Src/globals.h, Src/init.c, Src/module.c, Src/zsh.h: zle module
	  autoloading interface cleanup from Zefram (2627)

	* Src/Zle/compctl.c, Src/Zle/zle_main.c: remove unnecessary
	  contitional code for printcompctlp.  From Zefram (2629)

	* Src/module.c: print error message when module's boot/cleanup
	  function not found.  From Zefram (2628)

	* Src/module.c: zmodload -L did not handle module names starting
	  with `-'. From Zefram (2626)

	* Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c,
	  Util/reporter: zmodload -a lists builtins declared for
	  autoloading. -L prints everything in sourcable format.  From
	  Zefram (2620)

	* Src/Zle/zle_main.c, Src/hashtable.c, Src/options.c,
	  Src/params.c, Src/zsh.h: Make ZSH_HASH_DEBUG less visible.  From
	  Zefram (2619)

	* Src/builtin.c, Src/compat.c, Src/utils.c: handle arbitrary long
	  pathnames in pwd

Wed Dec 25 16:04:45 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Doc/zshoptions.man, Src/Makefile.in,
	  Src/Zle/zle_tricky.c, Src/builtin.c, Src/glob.c, Src/globals.h,
	  Src/init.c, Src/main.c, Src/params.c, Src/prototypes.h,
	  Src/utils.c, Src/zsh.h, Src/options.c: New hash table for
	  options, option aliases.  From Zefram (2612)

Tue Dec 24 02:25:20 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c, Src/glob.c, Src/hashtable.c, Src/utils.c:
	  move . and .. special case handling into zreaddir().	From
	  Zefram (2617)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  parallel make support gone again as it always rebuilt everything

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  More Makefile cleanups.  Parallel make now runs fine

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/globals.h, Src/init.c,
	  Src/main.c, Src/module.c, Src/zsh.h, Src/Makefile.in,
	  Src/Modules/Makefile.in, Src/Zle/Makefile.in: module makefile
	  improvements, better support for builtin modules.  From Zefram
	  (2611)

Sat Dec 21 02:00:12 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.0 released

	* Makefile.in: modifications for the beta series

	* Src/Zle/zle_main.c, Src/globals.h, Src/hist.c, Src/module.c,
 	  Src/zsh.h: changes to allow compilation on SunOS 4 with K&R
 	  compiler

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/builtin.c, Src/hashtable.h:
	  pwd now accepts -L and -P to be compatible with bash and ksh

	* configure, configure.in: SunOS 4 shared libraries do not work
 	  when they are stripped

Thu Dec 19 21:27:17 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/init.c: work around a bug in NeXTStep 3.2 which caused slow
 	  refresh

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.22 1996/12/19 09:52:11
 	  pws Exp

Wed Dec 18 23:51:24 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Etc/FAQ, META-FAQ: ftp.prz.tu-berlin.de no longer
 	  mirrors zsh, uiarchive.uiuc.edu name correction

Tue Dec 17 20:08:58 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/params.c: remove some compiler varnings

	* Src/Makefile.in: rlimits.h depends on rlimits.awk.  Cosmetic
 	  changes.  From Zefram (2589)

Mon Dec 16 03:33:12 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* README: unknown limits should no longer be a problem

	* Src/glob.c: toggles were not reset after a comma in a glob
 	  qualifier list (e.g. *(@-.,/))

	* Src/builtin.c: fg %% failed and disabled job control sometimes
 	  when there were no current job

Sun Dec 15 01:07:40 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* README: beta warning

	* Misc/compctl-examples: compctl for zmodload

Sat Dec 14 22:50:00 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_main.c: Remove unnecessary prefix delay in zle.
  	  From Zefram (2583)

	* Src/exec.c (execcmd): builtin < / > / closed stdin

	* configure, Src/Makefile.in, Src/builtin.c, Src/rlimits.awk,
 	  configure.in: awk generated rlimits from Peter (2573)

	* config.guess, config.sub, configure, configure.in: upgrade to
 	  autoconf-2.12.  Linux machines are still recognized without the
 	  -gnu suffix

	* configure, configure.in: working fifos should be tested in /tmp

Wed Dec 11 02:30:39 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c, Src/builtin.c, Src/exec.c, Src/globals.h,
 	  Src/hist.c, Src/init.c, Src/input.c, Src/lex.c, Src/zsh.h:
 	  remove the alias stack and fix several related bugs. From Peter
 	  (2548, 2551)

	* Doc/zsh.texi, META-FAQ: ftp mirror site changes

	* Src/params.c: use the heap in getstrvalue()

Tue Dec 10 02:27:35 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c: single line zle refresh bugfix from Geoff
 	  (2549)

	* Src/subst.c: ${(l:4:)foo} stopped working between 3.0.0 and 3.0.1

	* Src/math.c: $((#\c)) character code expansion did not work when
 	  c was a metafied

	* Src/params.c: $foo[i] did not work when foo[i] was a metafied
 	  character

	* Src/builtin.c: use the heap in zexit()

Sun Dec  8 21:32:06 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/utils.c, Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c:
 	  zmodload can be used to define atoloaded builtins and module
 	  dependencies

	* Doc/zsh.texi, Doc/zshoptions.man: options documentation
 	  improvements from Zefram (2529)

	* Src/globals.h, Src/hist.c, Src/zsh.h: HIST_REDUCE_BLANKS from
 	  Wayne (2446)

	* Etc/FEATURES, Etc/NEWS: news in zsh-3.1

	* Src/hashtable.h: security: do not import MODULE_PATH

	* Src/input.c: no further input should be attempted when lexstop
 	  is true (e.g. after eof).

	* Src/Makefile.in: make tags fix

	* Misc/compctl-examples: MH compctl changes from Peter (2535)

	* Src/Zle/zle_tricky.c, Src/glob.c, Src/hashtable.c, Src/utils.c:
 	  unmetafy did not put a null terminator to the end of the string.
  	  zreaddir discarded the metafied filename.  readdir was used
 	  instead of zreaddir in zle_tricky.c.  From Zefram (2533)

	* Src/Zle/zle_vi.c: vi-replace-chars now emulates better the real
 	  vi.  From Zefram (2496)

	* Src/jobs.c: CLK_TCK is 60 on NeXT not 64 as defined in the
 	  system headers.  From Robert F Tobler
 	  <rft@raven.cg.tuwien.ac.at> (2522)

	* Src/input.c, Src/zsh.h: alias foo='a=b foo' ; foo caused an
 	  infinite loop.  From Peter (2515)

	* Src/builtin.c, Src/zsh.h: put hash tables to a linked list when
 	  hash-debug is enabled and move the simplified bin_hashinfo into
 	  hashtable.c.  From Zefram (2509)

	* Src/builtin.c, Src/Zle/compctl.c: more bad option fixes. Make
 	  the getopts builtin 8-bit clean.  From Zefram (2508)

	* Src/builtin.c: show metafied characters correctly in bad option
 	  errors.  From Zefram (2497)

Thu Dec  5 03:59:45 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Modules/example.c,
 	  Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/zle.h,
 	  Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_misc.c, Src/Zle/zle_move.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
 	  Src/Zle/zle_word.c, Src/builtin.c, Src/globals.h,
 	  Src/hashtable.c, Src/hashtable.h, Src/init.c, Src/input.c,
 	  Src/loop.c, Src/main.c, Src/module.c, Src/modules-bltin,
 	  Src/prompt.c, Src/prototypes.h, Src/utils.c, Src/zsh.h,
 	  configure, configure.in: Move zle into a separate directory and
 	  convert it to an optional auto-loadable module.  Create Modules
 	  subdirectory.  Many Makefile changes.  boot_modname and
 	  cleanup_modname is back since on elf all module use one common
 	  name space.  Lots of other changes.

Wed Nov 27 03:20:53 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_main.c, Src/Zle/zle_vi.c: ANSI was broken and fixed
 	  again in zle_main.c ESC in vi command mode caused SEGV.  From
 	  Zefram (2479)

	* configure, configure.in: -pedantic is used with
 	  --enable-zsh-debug.  Link non-debugged zsh with -s.  From Zefram
 	  (2479)

Tue Nov 26 02:45:15 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/exec.c: the STTY parameter did not work well when pipes were
 	  used.  From Peter (2474)

	* Src/Zle/zle_main.c: little fix for the bindkey patch from Peter
 	  (2470)

	* Doc/zshbuiltins.man, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c, Src/builtin.c,
 	  Src/globals.h, Src/hashtable.c, Src/init.c: big multi-character
 	  key bindings fix from Zefram (2464)

	* Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c, Src/zsh.h:
 	  The -f option of zmodload is removed.  Improved zmodload
 	  documentation.

	* Src/hashtable.h, Doc/zshbuiltins.man, Src/module.c: zmodload
 	  with -i will not complain and will succeed without doing
 	  anything if an already loaded module is loaded or a non-loaded
 	  module is unloaded.  From Zefram (2463)

	* Doc/Makefile.in, Doc/zshbuiltins.man, Doc/zshparam.man: zmodload
 	  documentation.  It only appears in the final manual if dynamic
 	  modules are enabled.  Note that the texinfo documentation is
 	  still missing.  From Zefram (2460)

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.21 1996/11/25 09:13:28
 	  pws Exp

Mon Nov 25 02:39:08 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/module.c: try to load the modules with .DL_EXT appended
 	  first.  Honor PATH_DIRS when loading a module.

	* Src/Makefile.in: handle force ruleas as in the top-level Makefile

	* Makefile.in, Src/Makefile.in, Src/init.c: module install added,
 	  default module_path is $(libdir)/zsh/$(VERSION).  From Zefram
 	  (2458 and 2465 with modifications)

	* Src/Makefile.in: optimized and made more silent

	* Src/Makefile.in, Src/Modules/example.c, Src/Zle/deltochar.c,
 	  Src/init.c, Src/main.c, Src/module.c: modules can now statically
 	  compiled into zsh.  From Zefram (2455)

Sun Nov 24 22:44:12 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_move.c: vi-goto-mark fix from Thorsten

	* Src/utils.c: dupnode mergerd into the simplified dupstruct2,
 	  freetreenode merged into the simplified freestruct

	* Src/globals.h, Src/text.c, Doc/zsh.texi, Doc/zshmisc.man,
 	  Src/lex.c, Src/loop.c, Src/parse.c, Src/utils.c, Src/zsh.h: for
 	  ((expr; expr; expr)) command added

Sat Nov 23 23:34:58 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/exec.c:
	  ((...)) substituted the expression twice and coredumped on (())

	* Doc/zsh.texi, Doc/zshcompctl.man: compctl -e clarification from
 	  Peter (2453)

	* Src/hist.c (hend): minor cleanup from Wayne (2447)

	* Doc/zsh.texi, Doc/zshzle.man, Src/Zle/zle_hist.c:
 	  insert-last-word with numeric arguments inserts the given word
 	  from the previous history event.  From Bart (2445),
 	  documentation by me.

	* Src/subst.c, acconfig.h, config.h.in, configure, configure.in:
 	  added configure check for variable-length automatic arrays

Wed Nov 20 00:58:06 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/utils.c: The spell checker always tries to fix as many
 	  leading directory compontents as possible.  From Bart (2429)

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: the source was not ANSI
 	  C compatible.  From Thorsten Meinecke <kaefer@aglaia.aball.DE>

	* Src/Zle/zle_tricky.c: my spell-word fix used an uninitialised
 	  pointer.  Fix from Bart (2428)

Sun Nov 17 21:21:22 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in: fix the .SUFFIXES list

	* Src/module.c: do not call dlclose() if cleanup_module failed
 	  (returned nonzero)

	* Src/Makefile.in, Src/init.c, Src/main.c, Src/prototypes.h,
 	  configure, configure.in: try to support dynamic loading on SVR4
 	  systems

	* config.h.in: Makefile and configure fixes from Zefram (2416)

	* Src/params.c: remove a few memory leaks when initialising the
 	  parameter table.

	* Src/exec.c, Src/zsh.h: allow arbitrary number of multios.  From
 	  Zefram (2414)

	* Src/exec.c, Src/parse.c, Src/text.c, Src/zsh.h: do not convert
 	  ((...)) to builtin let internally.

Sat Nov 16 23:57:40 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/zle_tricky.c: spell-word zle function did not work for word
 	  beginning with a tilde

	* Src/hist.c: histignoredups ignores insignificant whitespace
 	  changes.  From Peter (1949)

	* Src/zle_main.c: execute-last-named-cmd may point to an already
 	  removed zle function after a zle module is deleted.  From Zefram
 	  (2418)

	* Doc/Makefile.in: give some explanation if the user compiling zsh
 	  has no makeinfo

	* configure.in: fix a problem introduced by patch 2338.  From
 	  Zefram (2416)

	* Makefile.in, acconfig.h, configure.in: Makefile and configure
 	  fixes from Zefram (2416)

	* Src/zle_tricky.c: the cursor moved back on TAB when it was on
 	  "".  From Zefram (2415)

Thu Nov 14 12:59:25 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/zle_refresh.c: one more refresh fix from Geoff (2404)

	* Src/Makefile.in, Src/Modules/deltochar.c, Src/Modules/example.c,
 	  configure, configure.in: move modules into Src/Modules

Wed Nov 13 21:47:28 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Modules/deltochar.c, Src/Modules/example.c, Src/module.c:
 	  unload the module if the boot routine failed

	* config.guess, config.sub: recognize i[6-9]86

	* Src/globals.h, Src/init.c, Src/utils.c: make fdtable dynamic

	* Src/zle_refresh.c: zle_refresh fix from Geoff (2387)

	* Src/zle_refresh.c: some checks added.  From Geoff (2386)

	* Src/zle_refresh.c: fix an off-by-one array bound bug.  From
 	  Geoff (2359)

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/Modules/deltochar.c,
 	  Src/hashtable.h, Src/module.c, Src/zle_main.c: handle name
 	  clashes when adding zle modules and remove bindings when a zle
 	  module is removed.  From Peter (2370)

	* Src/zle_refresh.c: zle_refresh scrolling change from Geoff (2351)

	* Src/Modules/deltochar.c, Src/module.c, Src/zle.h,
 	  Src/zle_main.c, Src/zle_misc.c, Src/zle_tricky.c, Src/zle_vi.c:
 	  zle function modules from Peter (2339)

Tue Nov 12 21:35:18 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/init.c, Src/zle_refresh.c: zle-refresh patch from Geoff (2336)

	* Src/hashtable.h, Src/module.c: rename modload to zmodload.  From
 	  Peter (2333)

	* Src/Makefile.in: added automatic ansi2knr rules

Mon Nov 11 21:55:17 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/example.c, Src/module.c, configure,
 	  configure.in: various module changes from Zefram (2338)

	* configure, configure.in: a $ was missing.  IRIX gcc needs
 	  -shared for modules.  From Peter

Wed Nov  6 20:54:33 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/mod_example.c: moduule modifications for
 	  old compilers

Sun Nov  3 23:00:05 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/system.h: set OPEN_MAX to 64 if NOFILE is not defined

	* Src/hashtable.c: disable -f TRAPxxx permanently removed the
	  function

	* Functions/pushd: setopt localoptions must come after
	  emulate -R zsh

Sat Nov  2 22:47:53 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/compat.c, Src/hashtable.c, Src/utils.c: do not blindly
 	  assume that . and .. are always the first two enrties in a
 	  directory.  Problem discovered by Hideki ONO and fixed by Bart
 	  (2309)

	* Src/utils.c: max_zsh_fd should not be decreased below zero

Thu Oct 31 01:38:10 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/globals.h, Src/hashtable.c,
 	  Src/hashtable.h, Src/init.c, Src/mod_example.c, Src/module.c,
 	  Src/prototypes.h, Src/zsh.h, acconfig.h, config.h.in, configure,
 	  configure.in: support dynamically loaded binary modules

	* Src/hist.c: zsh splitted lines longer than 1022 while reading
 	  the history file

	* Src/glob.c (doesmatch): <-number> range glob did not work

	* Src/builtin.c: read -c ignored its first parameter

Fri Oct 25 20:50:38 1996  Zoltán Hidvégi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.0.1 released
